/* Database.c generated by valac 0.24.0, the Vala compiler
 * generated from Database.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <SQLHeavy.h>
#include <stdlib.h>
#include <string.h>
#include <stdio.h>
#include <glib/gstdio.h>


#define YATLA_TYPE_DATABASE (yatla_database_get_type ())
#define YATLA_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_DATABASE, YatlaDatabase))
#define YATLA_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_DATABASE, YatlaDatabaseClass))
#define YATLA_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_DATABASE))
#define YATLA_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_DATABASE))
#define YATLA_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_DATABASE, YatlaDatabaseClass))

typedef struct _YatlaDatabase YatlaDatabase;
typedef struct _YatlaDatabaseClass YatlaDatabaseClass;
typedef struct _YatlaDatabasePrivate YatlaDatabasePrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define YATLA_TYPE_LIST (yatla_list_get_type ())
#define YATLA_LIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_LIST, YatlaList))
#define YATLA_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_LIST, YatlaListClass))
#define YATLA_IS_LIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_LIST))
#define YATLA_IS_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_LIST))
#define YATLA_LIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_LIST, YatlaListClass))

typedef struct _YatlaList YatlaList;
typedef struct _YatlaListClass YatlaListClass;
#define __g_list_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_free0_ (var), NULL)))
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))

#define YATLA_TYPE_DATE_TIME (yatla_date_time_get_type ())
#define YATLA_DATE_TIME(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_DATE_TIME, YatlaDateTime))
#define YATLA_DATE_TIME_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_DATE_TIME, YatlaDateTimeClass))
#define YATLA_IS_DATE_TIME(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_DATE_TIME))
#define YATLA_IS_DATE_TIME_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_DATE_TIME))
#define YATLA_DATE_TIME_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_DATE_TIME, YatlaDateTimeClass))

typedef struct _YatlaDateTime YatlaDateTime;
typedef struct _YatlaDateTimeClass YatlaDateTimeClass;

#define YATLA_TYPE_TASK (yatla_task_get_type ())
#define YATLA_TASK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_TASK, YatlaTask))
#define YATLA_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_TASK, YatlaTaskClass))
#define YATLA_IS_TASK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_TASK))
#define YATLA_IS_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_TASK))
#define YATLA_TASK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_TASK, YatlaTaskClass))

typedef struct _YatlaTask YatlaTask;
typedef struct _YatlaTaskClass YatlaTaskClass;
#define __vala_GValue_free0(var) ((var == NULL) ? NULL : (var = (_vala_GValue_free (var), NULL)))
typedef struct _YatlaListPrivate YatlaListPrivate;

struct _YatlaDatabase {
	GObject parent_instance;
	YatlaDatabasePrivate * priv;
};

struct _YatlaDatabaseClass {
	GObjectClass parent_class;
};

struct _YatlaDatabasePrivate {
	SQLHeavyDatabase* _database;
	SQLHeavyTransaction* _transaction;
	SQLHeavyQuery* _query;
	gchar* _location;
};

struct _YatlaList {
	GObject parent_instance;
	YatlaListPrivate * priv;
	GList* tasks;
};

struct _YatlaListClass {
	GObjectClass parent_class;
};


static gpointer yatla_database_parent_class = NULL;

GType yatla_database_get_type (void) G_GNUC_CONST;
#define YATLA_DATABASE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), YATLA_TYPE_DATABASE, YatlaDatabasePrivate))
enum  {
	YATLA_DATABASE_DUMMY_PROPERTY
};
YatlaDatabase* yatla_database_new (void);
YatlaDatabase* yatla_database_construct (GType object_type);
void yatla_database_open (YatlaDatabase* self);
void yatla_database_create (YatlaDatabase* self);
GType yatla_list_get_type (void) G_GNUC_CONST;
void yatla_database_backup (YatlaDatabase* self, GList* sidebar_list);
gboolean yatla_database_update_list (YatlaDatabase* self, YatlaList* list, const gchar* list_name);
const gchar* yatla_list_get_name (YatlaList* self);
gboolean yatla_database_is_created (YatlaDatabase* self);
gboolean yatla_database_is_empty (YatlaDatabase* self);
static void _g_free0_ (gpointer var);
static void _g_list_free__g_free0_ (GList* self);
GList* yatla_database_load_data (YatlaDatabase* self);
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
YatlaList* yatla_list_new (const gchar* name);
YatlaList* yatla_list_construct (GType object_type, const gchar* name);
#define YATLA_DATE_TIME_DEFAULT_FORMAT "%FT%H:%M:%S%z"
YatlaDateTime* yatla_date_time_new_from_string_with_format (const gchar* dateStr, const gchar* format);
YatlaDateTime* yatla_date_time_construct_from_string_with_format (GType object_type, const gchar* dateStr, const gchar* format);
GType yatla_date_time_get_type (void) G_GNUC_CONST;
GDateTime* yatla_date_time_get_datetime (YatlaDateTime* self);
GType yatla_task_get_type (void) G_GNUC_CONST;
YatlaTask* yatla_task_new (const gchar* name, const gchar* note, GDateTime* date, gboolean is_done);
YatlaTask* yatla_task_construct (GType object_type, const gchar* name, const gchar* note, GDateTime* date, gboolean is_done);
void yatla_task_set_id (YatlaTask* self, gint value);
void yatla_list_add_task (YatlaList* self, YatlaTask* task);
gboolean yatla_database_add_list (YatlaDatabase* self, YatlaList* list);
static void _vala_GValue_free (GValue* self);
const gchar* yatla_task_get_name (YatlaTask* self);
const gchar* yatla_task_get_note (YatlaTask* self);
GDateTime* yatla_task_get_date (YatlaTask* self);
gboolean yatla_task_get_is_done (YatlaTask* self);
gint yatla_task_get_id (YatlaTask* self);
gboolean yatla_database_remove_list (YatlaDatabase* self, YatlaList* list);
gboolean yatla_database_rename_list (YatlaDatabase* self, YatlaList* list, const gchar* new_name);
gboolean yatla_database_add_task (YatlaDatabase* self, YatlaTask* task, const gchar* list_name);
gint yatla_database_get_task_id (YatlaDatabase* self, const gchar* task_name, const gchar* list_name);
gboolean yatla_database_update_task (YatlaDatabase* self, YatlaTask* task, const gchar* list_name);
gboolean yatla_database_remove_task (YatlaDatabase* self, YatlaTask* task, const gchar* list_name);
gchar* yatla_database_get_location (void);
static void yatla_database_finalize (GObject* obj);


YatlaDatabase* yatla_database_construct (GType object_type) {
	YatlaDatabase * self = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	self = (YatlaDatabase*) g_object_new (object_type, NULL);
	_tmp0_ = g_get_user_data_dir ();
	_tmp1_ = g_strconcat (_tmp0_, "/yatla/yatla.db", NULL);
	_g_free0 (self->priv->_location);
	self->priv->_location = _tmp1_;
	yatla_database_open (self);
	return self;
}


YatlaDatabase* yatla_database_new (void) {
	return yatla_database_construct (YATLA_TYPE_DATABASE);
}


/**
 * @brief trying to open the database
 */
void yatla_database_open (YatlaDatabase* self) {
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	{
		SQLHeavyDatabase* _tmp0_ = NULL;
		const gchar* _tmp1_ = NULL;
		SQLHeavyDatabase* _tmp2_ = NULL;
		SQLHeavyDatabase* _tmp3_ = NULL;
		_tmp1_ = self->priv->_location;
		_tmp2_ = sql_heavy_database_new (_tmp1_, SQL_HEAVY_FILE_MODE_READ | SQL_HEAVY_FILE_MODE_WRITE, &_inner_error_);
		_tmp0_ = _tmp2_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch1_sql_heavy_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
		_tmp3_ = _tmp0_;
		_tmp0_ = NULL;
		_g_object_unref0 (self->priv->_database);
		self->priv->_database = _tmp3_;
		_g_object_unref0 (_tmp0_);
	}
	goto __finally1;
	__catch1_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp4_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_g_object_unref0 (self->priv->_database);
		self->priv->_database = NULL;
		_tmp4_ = stderr;
		fprintf (_tmp4_, "Can not find database!\n");
		_g_error_free0 (e);
	}
	__finally1:
	if (_inner_error_ != NULL) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
}


/**
 * @brief creating a database
 */
void yatla_database_create (YatlaDatabase* self) {
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	{
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		SQLHeavyDatabase* _tmp3_ = NULL;
		const gchar* _tmp4_ = NULL;
		SQLHeavyDatabase* _tmp5_ = NULL;
		SQLHeavyDatabase* _tmp6_ = NULL;
		SQLHeavyDatabase* _tmp7_ = NULL;
		SQLHeavyQueryResult* _tmp8_ = NULL;
		SQLHeavyQueryResult* _tmp9_ = NULL;
		_tmp0_ = g_get_user_data_dir ();
		_tmp1_ = g_strconcat (_tmp0_, "/yatla", NULL);
		_tmp2_ = _tmp1_;
		g_mkdir (_tmp2_, 0755);
		_g_free0 (_tmp2_);
		_tmp4_ = self->priv->_location;
		_tmp5_ = sql_heavy_database_new (_tmp4_, (SQL_HEAVY_FILE_MODE_READ | SQL_HEAVY_FILE_MODE_WRITE) | SQL_HEAVY_FILE_MODE_CREATE, &_inner_error_);
		_tmp3_ = _tmp5_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch2_sql_heavy_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
		_tmp6_ = _tmp3_;
		_tmp3_ = NULL;
		_g_object_unref0 (self->priv->_database);
		self->priv->_database = _tmp6_;
		_tmp7_ = self->priv->_database;
		_tmp8_ = sql_heavy_queryable_execute ((SQLHeavyQueryable*) _tmp7_, "CREATE TABLE lists (id INTEGER PRIMARY KEY, name TEXT UNIQUE);", &_inner_error_, NULL);
		_tmp9_ = _tmp8_;
		_g_object_unref0 (_tmp9_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp3_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch2_sql_heavy_error;
			}
			_g_object_unref0 (_tmp3_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
		_g_object_unref0 (_tmp3_);
	}
	goto __finally2;
	__catch2_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_g_object_unref0 (self->priv->_database);
		self->priv->_database = NULL;
		_tmp10_ = stderr;
		_tmp11_ = self->priv->_location;
		fprintf (_tmp10_, "Cannot create new database in %s.\n", _tmp11_);
		_g_error_free0 (e);
	}
	__finally2:
	if (_inner_error_ != NULL) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
}


/**
 * @brief   backup
 * @details save all the changes, that 've been made
 *          to the database
 * 
 * @param sidebar_list : list from where the data will
 *                       be taken and saved in database
 */
static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void yatla_database_backup (YatlaDatabase* self, GList* sidebar_list) {
	GList* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = sidebar_list;
	{
		GList* list_collection = NULL;
		GList* list_it = NULL;
		list_collection = _tmp0_;
		for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
			YatlaList* _tmp1_ = NULL;
			YatlaList* list = NULL;
			_tmp1_ = _g_object_ref0 ((YatlaList*) list_it->data);
			list = _tmp1_;
			{
				YatlaList* _tmp2_ = NULL;
				YatlaList* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				const gchar* _tmp5_ = NULL;
				_tmp2_ = list;
				_tmp3_ = list;
				_tmp4_ = yatla_list_get_name (_tmp3_);
				_tmp5_ = _tmp4_;
				yatla_database_update_list (self, _tmp2_, _tmp5_);
				_g_object_unref0 (list);
			}
		}
	}
}


/**
 * @brief   if database is created
 * @details checking if a database already exists
 * @return  true if exists, false if doesn't exist
 */
gboolean yatla_database_is_created (YatlaDatabase* self) {
	gboolean result = FALSE;
	SQLHeavyDatabase* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_database;
	if (_tmp0_ == NULL) {
		result = FALSE;
		return result;
	} else {
		result = TRUE;
		return result;
	}
}


/**
 * @brief   if database if empty
 * @details checking if the database has to lists in `lists` table
 * @return  true if empty, false if not empty
 */
static void _g_free0_ (gpointer var) {
	var = (g_free (var), NULL);
}


static void _g_list_free__g_free0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_free0_, NULL);
	g_list_free (self);
}


gboolean yatla_database_is_empty (YatlaDatabase* self) {
	gboolean result = FALSE;
	GList* lists = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	lists = NULL;
	{
		SQLHeavyQuery* _tmp0_ = NULL;
		SQLHeavyDatabase* _tmp1_ = NULL;
		SQLHeavyQuery* _tmp2_ = NULL;
		SQLHeavyQuery* _tmp3_ = NULL;
		GList* _tmp15_ = NULL;
		guint _tmp16_ = 0U;
		_tmp1_ = self->priv->_database;
		_tmp2_ = sql_heavy_query_new ((SQLHeavyQueryable*) _tmp1_, "SELECT * FROM `lists`;", &_inner_error_);
		_tmp0_ = _tmp2_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch3_sql_heavy_error;
			}
			__g_list_free__g_free0_0 (lists);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp3_ = _tmp0_;
		_tmp0_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp3_;
		{
			SQLHeavyQueryResult* results = NULL;
			SQLHeavyQuery* _tmp4_ = NULL;
			SQLHeavyQueryResult* _tmp5_ = NULL;
			_tmp4_ = self->priv->_query;
			_tmp5_ = sql_heavy_query_execute (_tmp4_, NULL, &_inner_error_, NULL);
			results = _tmp5_;
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp0_);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch3_sql_heavy_error;
				}
				_g_object_unref0 (_tmp0_);
				__g_list_free__g_free0_0 (lists);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
			{
				gboolean _tmp6_ = FALSE;
				_tmp6_ = TRUE;
				while (TRUE) {
					SQLHeavyQueryResult* _tmp8_ = NULL;
					gboolean _tmp9_ = FALSE;
					gboolean _tmp10_ = FALSE;
					gchar* _tmp11_ = NULL;
					SQLHeavyQueryResult* _tmp12_ = NULL;
					gchar* _tmp13_ = NULL;
					gchar* _tmp14_ = NULL;
					if (!_tmp6_) {
						SQLHeavyQueryResult* _tmp7_ = NULL;
						_tmp7_ = results;
						sql_heavy_record_set_next ((SQLHeavyRecordSet*) _tmp7_, &_inner_error_);
						if (_inner_error_ != NULL) {
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp0_);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch3_sql_heavy_error;
							}
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp0_);
							__g_list_free__g_free0_0 (lists);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
					}
					_tmp6_ = FALSE;
					_tmp8_ = results;
					_tmp9_ = sql_heavy_query_result_get_finished (_tmp8_);
					_tmp10_ = _tmp9_;
					if (!(!_tmp10_)) {
						break;
					}
					_tmp12_ = results;
					_tmp13_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp12_, 1, &_inner_error_);
					_tmp11_ = _tmp13_;
					if (_inner_error_ != NULL) {
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp0_);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch3_sql_heavy_error;
						}
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp0_);
						__g_list_free__g_free0_0 (lists);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return FALSE;
					}
					_tmp14_ = _tmp11_;
					_tmp11_ = NULL;
					lists = g_list_append (lists, _tmp14_);
					_g_free0 (_tmp11_);
				}
			}
			_g_object_unref0 (results);
		}
		_tmp15_ = lists;
		_tmp16_ = g_list_length (_tmp15_);
		if (_tmp16_ == ((guint) 0)) {
			result = TRUE;
			_g_object_unref0 (_tmp0_);
			__g_list_free__g_free0_0 (lists);
			return result;
		} else {
			result = FALSE;
			_g_object_unref0 (_tmp0_);
			__g_list_free__g_free0_0 (lists);
			return result;
		}
		_g_object_unref0 (_tmp0_);
	}
	goto __finally3;
	__catch3_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp17_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp17_ = stderr;
		fprintf (_tmp17_, "Can not find out if the database is empty or not!!! \n");
		_g_error_free0 (e);
	}
	__finally3:
	if (_inner_error_ != NULL) {
		__g_list_free__g_free0_0 (lists);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return FALSE;
	}
	result = FALSE;
	__g_list_free__g_free0_0 (lists);
	return result;
}


/**
 * @brief   load lists from database
 * @details load all the lists from the `lists` table from database
 * 
 * @return  a list of Yatla.List 
 */
static void _g_object_unref0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}


static void _g_list_free__g_object_unref0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
	g_list_free (self);
}


static gboolean bool_parse (const gchar* str) {
	gboolean result = FALSE;
	const gchar* _tmp0_ = NULL;
	g_return_val_if_fail (str != NULL, FALSE);
	_tmp0_ = str;
	if (g_strcmp0 (_tmp0_, "true") == 0) {
		result = TRUE;
		return result;
	} else {
		result = FALSE;
		return result;
	}
}


GList* yatla_database_load_data (YatlaDatabase* self) {
	GList* result = NULL;
	GList* data = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	data = NULL;
	{
		SQLHeavyQuery* _tmp0_ = NULL;
		SQLHeavyDatabase* _tmp1_ = NULL;
		SQLHeavyQuery* _tmp2_ = NULL;
		SQLHeavyQuery* _tmp3_ = NULL;
		_tmp1_ = self->priv->_database;
		_tmp2_ = sql_heavy_query_new ((SQLHeavyQueryable*) _tmp1_, "SELECT * FROM `lists`;", &_inner_error_);
		_tmp0_ = _tmp2_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch4_sql_heavy_error;
			}
			__g_list_free__g_object_unref0_0 (data);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
		_tmp3_ = _tmp0_;
		_tmp0_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp3_;
		{
			SQLHeavyQueryResult* results = NULL;
			SQLHeavyQuery* _tmp4_ = NULL;
			SQLHeavyQueryResult* _tmp5_ = NULL;
			_tmp4_ = self->priv->_query;
			_tmp5_ = sql_heavy_query_execute (_tmp4_, NULL, &_inner_error_, NULL);
			results = _tmp5_;
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp0_);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch4_sql_heavy_error;
				}
				_g_object_unref0 (_tmp0_);
				__g_list_free__g_object_unref0_0 (data);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return NULL;
			}
			{
				gboolean _tmp6_ = FALSE;
				_tmp6_ = TRUE;
				while (TRUE) {
					SQLHeavyQueryResult* _tmp8_ = NULL;
					gboolean _tmp9_ = FALSE;
					gboolean _tmp10_ = FALSE;
					gchar* name = NULL;
					SQLHeavyQueryResult* _tmp11_ = NULL;
					gchar* _tmp12_ = NULL;
					YatlaList* list = NULL;
					const gchar* _tmp13_ = NULL;
					YatlaList* _tmp14_ = NULL;
					gchar* sql_command = NULL;
					const gchar* _tmp15_ = NULL;
					gchar* _tmp16_ = NULL;
					gchar* _tmp17_ = NULL;
					gchar* _tmp18_ = NULL;
					gchar* _tmp19_ = NULL;
					SQLHeavyQuery* query = NULL;
					SQLHeavyDatabase* _tmp20_ = NULL;
					const gchar* _tmp21_ = NULL;
					SQLHeavyQuery* _tmp22_ = NULL;
					YatlaList* _tmp61_ = NULL;
					YatlaList* _tmp62_ = NULL;
					if (!_tmp6_) {
						SQLHeavyQueryResult* _tmp7_ = NULL;
						_tmp7_ = results;
						sql_heavy_record_set_next ((SQLHeavyRecordSet*) _tmp7_, &_inner_error_);
						if (_inner_error_ != NULL) {
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp0_);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch4_sql_heavy_error;
							}
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp0_);
							__g_list_free__g_object_unref0_0 (data);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return NULL;
						}
					}
					_tmp6_ = FALSE;
					_tmp8_ = results;
					_tmp9_ = sql_heavy_query_result_get_finished (_tmp8_);
					_tmp10_ = _tmp9_;
					if (!(!_tmp10_)) {
						break;
					}
					_tmp11_ = results;
					_tmp12_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp11_, 1, &_inner_error_);
					name = _tmp12_;
					if (_inner_error_ != NULL) {
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp0_);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch4_sql_heavy_error;
						}
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp0_);
						__g_list_free__g_object_unref0_0 (data);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return NULL;
					}
					_tmp13_ = name;
					_tmp14_ = yatla_list_new (_tmp13_);
					list = _tmp14_;
					_tmp15_ = name;
					_tmp16_ = g_strconcat ("SELECT * FROM `", _tmp15_, NULL);
					_tmp17_ = _tmp16_;
					_tmp18_ = g_strconcat (_tmp17_, "_tasks`;", NULL);
					_tmp19_ = _tmp18_;
					_g_free0 (_tmp17_);
					sql_command = _tmp19_;
					_tmp20_ = self->priv->_database;
					_tmp21_ = sql_command;
					_tmp22_ = sql_heavy_query_new ((SQLHeavyQueryable*) _tmp20_, _tmp21_, &_inner_error_);
					query = _tmp22_;
					if (_inner_error_ != NULL) {
						_g_free0 (sql_command);
						_g_object_unref0 (list);
						_g_free0 (name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp0_);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch4_sql_heavy_error;
						}
						_g_free0 (sql_command);
						_g_object_unref0 (list);
						_g_free0 (name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp0_);
						__g_list_free__g_object_unref0_0 (data);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return NULL;
					}
					{
						SQLHeavyQueryResult* task_results = NULL;
						SQLHeavyQuery* _tmp23_ = NULL;
						SQLHeavyQueryResult* _tmp24_ = NULL;
						_tmp23_ = query;
						_tmp24_ = sql_heavy_query_execute (_tmp23_, NULL, &_inner_error_, NULL);
						task_results = _tmp24_;
						if (_inner_error_ != NULL) {
							_g_object_unref0 (query);
							_g_free0 (sql_command);
							_g_object_unref0 (list);
							_g_free0 (name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp0_);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch4_sql_heavy_error;
							}
							_g_object_unref0 (query);
							_g_free0 (sql_command);
							_g_object_unref0 (list);
							_g_free0 (name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp0_);
							__g_list_free__g_object_unref0_0 (data);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return NULL;
						}
						{
							gboolean _tmp25_ = FALSE;
							_tmp25_ = TRUE;
							while (TRUE) {
								SQLHeavyQueryResult* _tmp27_ = NULL;
								gboolean _tmp28_ = FALSE;
								gboolean _tmp29_ = FALSE;
								gint task_id = 0;
								SQLHeavyQueryResult* _tmp30_ = NULL;
								gint _tmp31_ = 0;
								gchar* task_name = NULL;
								SQLHeavyQueryResult* _tmp32_ = NULL;
								gchar* _tmp33_ = NULL;
								gchar* task_note = NULL;
								SQLHeavyQueryResult* _tmp34_ = NULL;
								gchar* _tmp35_ = NULL;
								GDateTime* task_date = NULL;
								gchar* _tmp36_ = NULL;
								SQLHeavyQueryResult* _tmp37_ = NULL;
								gchar* _tmp38_ = NULL;
								gchar* _tmp39_ = NULL;
								gchar* _tmp40_ = NULL;
								gboolean _tmp41_ = FALSE;
								gchar* _tmp48_ = NULL;
								SQLHeavyQueryResult* _tmp49_ = NULL;
								gchar* _tmp50_ = NULL;
								gboolean task_is_done = FALSE;
								gboolean _tmp51_ = FALSE;
								YatlaTask* task = NULL;
								const gchar* _tmp52_ = NULL;
								const gchar* _tmp53_ = NULL;
								GDateTime* _tmp54_ = NULL;
								gboolean _tmp55_ = FALSE;
								YatlaTask* _tmp56_ = NULL;
								YatlaTask* _tmp57_ = NULL;
								gint _tmp58_ = 0;
								YatlaList* _tmp59_ = NULL;
								YatlaTask* _tmp60_ = NULL;
								if (!_tmp25_) {
									SQLHeavyQueryResult* _tmp26_ = NULL;
									_tmp26_ = task_results;
									sql_heavy_record_set_next ((SQLHeavyRecordSet*) _tmp26_, &_inner_error_);
									if (_inner_error_ != NULL) {
										_g_object_unref0 (task_results);
										_g_object_unref0 (query);
										_g_free0 (sql_command);
										_g_object_unref0 (list);
										_g_free0 (name);
										_g_object_unref0 (results);
										_g_object_unref0 (_tmp0_);
										if (_inner_error_->domain == SQL_HEAVY_ERROR) {
											goto __catch4_sql_heavy_error;
										}
										_g_object_unref0 (task_results);
										_g_object_unref0 (query);
										_g_free0 (sql_command);
										_g_object_unref0 (list);
										_g_free0 (name);
										_g_object_unref0 (results);
										_g_object_unref0 (_tmp0_);
										__g_list_free__g_object_unref0_0 (data);
										g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
										g_clear_error (&_inner_error_);
										return NULL;
									}
								}
								_tmp25_ = FALSE;
								_tmp27_ = task_results;
								_tmp28_ = sql_heavy_query_result_get_finished (_tmp27_);
								_tmp29_ = _tmp28_;
								if (!(!_tmp29_)) {
									break;
								}
								_tmp30_ = task_results;
								_tmp31_ = sql_heavy_record_fetch_int ((SQLHeavyRecord*) _tmp30_, 0, &_inner_error_);
								task_id = _tmp31_;
								if (_inner_error_ != NULL) {
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch4_sql_heavy_error;
									}
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									__g_list_free__g_object_unref0_0 (data);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return NULL;
								}
								_tmp32_ = task_results;
								_tmp33_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp32_, 1, &_inner_error_);
								task_name = _tmp33_;
								if (_inner_error_ != NULL) {
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch4_sql_heavy_error;
									}
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									__g_list_free__g_object_unref0_0 (data);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return NULL;
								}
								_tmp34_ = task_results;
								_tmp35_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp34_, 2, &_inner_error_);
								task_note = _tmp35_;
								if (_inner_error_ != NULL) {
									_g_free0 (task_name);
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch4_sql_heavy_error;
									}
									_g_free0 (task_name);
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									__g_list_free__g_object_unref0_0 (data);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return NULL;
								}
								_tmp37_ = task_results;
								_tmp38_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp37_, 3, &_inner_error_);
								_tmp36_ = _tmp38_;
								if (_inner_error_ != NULL) {
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch4_sql_heavy_error;
									}
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									__g_list_free__g_object_unref0_0 (data);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return NULL;
								}
								_tmp39_ = _tmp36_;
								_tmp36_ = NULL;
								_tmp40_ = _tmp39_;
								_tmp41_ = g_strcmp0 (_tmp40_, "") != 0;
								_g_free0 (_tmp40_);
								if (_tmp41_) {
									gchar* _tmp42_ = NULL;
									SQLHeavyQueryResult* _tmp43_ = NULL;
									gchar* _tmp44_ = NULL;
									YatlaDateTime* _tmp45_ = NULL;
									YatlaDateTime* _tmp46_ = NULL;
									GDateTime* _tmp47_ = NULL;
									_tmp43_ = task_results;
									_tmp44_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp43_, 3, &_inner_error_);
									_tmp42_ = _tmp44_;
									if (_inner_error_ != NULL) {
										_g_free0 (_tmp36_);
										_g_date_time_unref0 (task_date);
										_g_free0 (task_note);
										_g_free0 (task_name);
										_g_object_unref0 (task_results);
										_g_object_unref0 (query);
										_g_free0 (sql_command);
										_g_object_unref0 (list);
										_g_free0 (name);
										_g_object_unref0 (results);
										_g_object_unref0 (_tmp0_);
										if (_inner_error_->domain == SQL_HEAVY_ERROR) {
											goto __catch4_sql_heavy_error;
										}
										_g_free0 (_tmp36_);
										_g_date_time_unref0 (task_date);
										_g_free0 (task_note);
										_g_free0 (task_name);
										_g_object_unref0 (task_results);
										_g_object_unref0 (query);
										_g_free0 (sql_command);
										_g_object_unref0 (list);
										_g_free0 (name);
										_g_object_unref0 (results);
										_g_object_unref0 (_tmp0_);
										__g_list_free__g_object_unref0_0 (data);
										g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
										g_clear_error (&_inner_error_);
										return NULL;
									}
									_tmp45_ = yatla_date_time_new_from_string_with_format (_tmp42_, YATLA_DATE_TIME_DEFAULT_FORMAT);
									_tmp46_ = _tmp45_;
									_tmp47_ = yatla_date_time_get_datetime (_tmp46_);
									_g_date_time_unref0 (task_date);
									task_date = _tmp47_;
									_g_object_unref0 (_tmp46_);
									_g_free0 (_tmp42_);
								} else {
									_g_date_time_unref0 (task_date);
									task_date = NULL;
								}
								_tmp49_ = task_results;
								_tmp50_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp49_, 4, &_inner_error_);
								_tmp48_ = _tmp50_;
								if (_inner_error_ != NULL) {
									_g_free0 (_tmp36_);
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch4_sql_heavy_error;
									}
									_g_free0 (_tmp36_);
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (task_results);
									_g_object_unref0 (query);
									_g_free0 (sql_command);
									_g_object_unref0 (list);
									_g_free0 (name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp0_);
									__g_list_free__g_object_unref0_0 (data);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return NULL;
								}
								_tmp51_ = bool_parse (_tmp48_);
								task_is_done = _tmp51_;
								_tmp52_ = task_name;
								_tmp53_ = task_note;
								_tmp54_ = task_date;
								_tmp55_ = task_is_done;
								_tmp56_ = yatla_task_new (_tmp52_, _tmp53_, _tmp54_, _tmp55_);
								task = _tmp56_;
								_tmp57_ = task;
								_tmp58_ = task_id;
								yatla_task_set_id (_tmp57_, _tmp58_);
								_tmp59_ = list;
								_tmp60_ = task;
								yatla_list_add_task (_tmp59_, _tmp60_);
								_g_object_unref0 (task);
								_g_free0 (_tmp48_);
								_g_free0 (_tmp36_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
							}
						}
						_g_object_unref0 (task_results);
					}
					_tmp61_ = list;
					_tmp62_ = _g_object_ref0 (_tmp61_);
					data = g_list_append (data, _tmp62_);
					_g_object_unref0 (query);
					_g_free0 (sql_command);
					_g_object_unref0 (list);
					_g_free0 (name);
				}
			}
			_g_object_unref0 (results);
		}
		_g_object_unref0 (_tmp0_);
	}
	goto __finally4;
	__catch4_sql_heavy_error:
	{
		GError* e = NULL;
		const gchar* _tmp63_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp63_ = e->message;
		g_error ("Database.vala:150: Error: %s", _tmp63_);
		_g_error_free0 (e);
	}
	__finally4:
	if (_inner_error_ != NULL) {
		__g_list_free__g_object_unref0_0 (data);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	result = data;
	return result;
}


/**
 * @brief   adding a list to the database
 * @details adding a list to the `lists` table
 *          and also creating a new table for
 *          tasks and its' properties of that list
 * 
 * @param  list  : list to be added to the database
 * @return true  : if adding the list was successful
 *         false : if adding the list wasn't successful
 */
static void _vala_GValue_free (GValue* self) {
	g_value_unset (self);
	g_free (self);
}


gboolean yatla_database_add_list (YatlaDatabase* self, YatlaList* list) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (list != NULL, FALSE);
	{
		SQLHeavyTransaction* _tmp0_ = NULL;
		SQLHeavyDatabase* _tmp1_ = NULL;
		SQLHeavyTransaction* _tmp2_ = NULL;
		SQLHeavyTransaction* _tmp3_ = NULL;
		SQLHeavyQuery* _tmp4_ = NULL;
		SQLHeavyTransaction* _tmp5_ = NULL;
		SQLHeavyQuery* _tmp6_ = NULL;
		SQLHeavyQuery* _tmp7_ = NULL;
		SQLHeavyQuery* _tmp8_ = NULL;
		YatlaList* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		GValue* _tmp12_ = NULL;
		SQLHeavyQuery* _tmp13_ = NULL;
		SQLHeavyQueryResult* _tmp14_ = NULL;
		SQLHeavyQueryResult* _tmp15_ = NULL;
		gchar* sql_command = NULL;
		YatlaList* _tmp16_ = NULL;
		const gchar* _tmp17_ = NULL;
		const gchar* _tmp18_ = NULL;
		gchar* _tmp19_ = NULL;
		gchar* _tmp20_ = NULL;
		gchar* _tmp21_ = NULL;
		gchar* _tmp22_ = NULL;
		SQLHeavyTransaction* _tmp23_ = NULL;
		const gchar* _tmp24_ = NULL;
		SQLHeavyQueryResult* _tmp25_ = NULL;
		SQLHeavyQueryResult* _tmp26_ = NULL;
		SQLHeavyTransaction* _tmp27_ = NULL;
		_tmp1_ = self->priv->_database;
		_tmp2_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp1_, &_inner_error_);
		_tmp0_ = _tmp2_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch5_sql_heavy_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp3_ = _tmp0_;
		_tmp0_ = NULL;
		_g_object_unref0 (self->priv->_transaction);
		self->priv->_transaction = _tmp3_;
		_tmp5_ = self->priv->_transaction;
		_tmp6_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp5_, "INSERT INTO `lists` (`name`) VALUES (:name);", &_inner_error_);
		_tmp4_ = _tmp6_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch5_sql_heavy_error;
			}
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp7_ = _tmp4_;
		_tmp4_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp7_;
		_tmp8_ = self->priv->_query;
		_tmp9_ = list;
		_tmp10_ = yatla_list_get_name (_tmp9_);
		_tmp11_ = _tmp10_;
		_tmp12_ = g_new0 (GValue, 1);
		g_value_init (_tmp12_, G_TYPE_STRING);
		g_value_set_string (_tmp12_, _tmp11_);
		sql_heavy_query_set (_tmp8_, ":name", _tmp12_, &_inner_error_);
		__vala_GValue_free0 (_tmp12_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch5_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp13_ = self->priv->_query;
		_tmp14_ = sql_heavy_query_execute (_tmp13_, NULL, &_inner_error_, NULL);
		_tmp15_ = _tmp14_;
		_g_object_unref0 (_tmp15_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch5_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp16_ = list;
		_tmp17_ = yatla_list_get_name (_tmp16_);
		_tmp18_ = _tmp17_;
		_tmp19_ = g_strconcat ("CREATE TABLE ", _tmp18_, NULL);
		_tmp20_ = _tmp19_;
		_tmp21_ = g_strconcat (_tmp20_, "_tasks (id INTEGER PRIMARY KEY, name TEXT UNIQUE, note TEXT, date TEXT" \
", is_done TEXT);", NULL);
		_tmp22_ = _tmp21_;
		_g_free0 (_tmp20_);
		sql_command = _tmp22_;
		_tmp23_ = self->priv->_transaction;
		_tmp24_ = sql_command;
		_tmp25_ = sql_heavy_queryable_execute ((SQLHeavyQueryable*) _tmp23_, _tmp24_, &_inner_error_, NULL);
		_tmp26_ = _tmp25_;
		_g_object_unref0 (_tmp26_);
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch5_sql_heavy_error;
			}
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp27_ = self->priv->_transaction;
		sql_heavy_transaction_commit (_tmp27_, &_inner_error_);
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch5_sql_heavy_error;
			}
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		result = TRUE;
		_g_free0 (sql_command);
		_g_object_unref0 (_tmp4_);
		_g_object_unref0 (_tmp0_);
		return result;
	}
	goto __finally5;
	__catch5_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp28_ = NULL;
		YatlaList* _tmp29_ = NULL;
		const gchar* _tmp30_ = NULL;
		const gchar* _tmp31_ = NULL;
		FILE* _tmp32_ = NULL;
		GError* _tmp33_ = NULL;
		const gchar* _tmp34_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp28_ = stderr;
		_tmp29_ = list;
		_tmp30_ = yatla_list_get_name (_tmp29_);
		_tmp31_ = _tmp30_;
		fprintf (_tmp28_, "Cannot insert list %s.\n", _tmp31_);
		_tmp32_ = stdout;
		_tmp33_ = e;
		_tmp34_ = _tmp33_->message;
		fprintf (_tmp32_, "Error : %s\n", _tmp34_);
		result = FALSE;
		_g_error_free0 (e);
		return result;
	}
	__finally5:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return FALSE;
}


/**
 * @brief   updating the list
 * @details updating the list properties 
 *          in case any changes were done
 * 
 * @param list 	    : list, which will be updated
 * @param list_name : name of the list, in order to find
 *                    the table, where to update the list
 * 
 * @return true  : if updating was successful
 *         false : if updating wasn't successful
 */
static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	_tmp0_ = str;
	_tmp1_ = maxlen;
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
	end = _tmp2_;
	_tmp3_ = end;
	if (_tmp3_ == NULL) {
		glong _tmp4_ = 0L;
		_tmp4_ = maxlen;
		result = _tmp4_;
		return result;
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
		_tmp5_ = end;
		_tmp6_ = str;
		result = (glong) (_tmp5_ - _tmp6_);
		return result;
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp1_ = offset;
	if (_tmp1_ >= ((glong) 0)) {
		glong _tmp2_ = 0L;
		_tmp2_ = len;
		_tmp0_ = _tmp2_ >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
		_tmp3_ = offset;
		_tmp4_ = len;
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
		string_length = _tmp5_;
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
		_tmp6_ = strlen (self);
		_tmp7_ = _tmp6_;
		string_length = (glong) _tmp7_;
	}
	_tmp8_ = offset;
	if (_tmp8_ < ((glong) 0)) {
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
		_tmp9_ = string_length;
		_tmp10_ = offset;
		offset = _tmp9_ + _tmp10_;
		_tmp11_ = offset;
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
		_tmp12_ = offset;
		_tmp13_ = string_length;
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
	}
	_tmp14_ = len;
	if (_tmp14_ < ((glong) 0)) {
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
		_tmp15_ = string_length;
		_tmp16_ = offset;
		len = _tmp15_ - _tmp16_;
	}
	_tmp17_ = offset;
	_tmp18_ = len;
	_tmp19_ = string_length;
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
	_tmp20_ = offset;
	_tmp21_ = len;
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
	result = _tmp22_;
	return result;
}


static gchar* g_date_time_to_string (GDateTime* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = g_date_time_format (self, "%FT%H:%M:%S%z");
	result = _tmp0_;
	return result;
}


static gchar* bool_to_string (gboolean self) {
	gchar* result = NULL;
	if (self) {
		gchar* _tmp0_ = NULL;
		_tmp0_ = g_strdup ("true");
		result = _tmp0_;
		return result;
	} else {
		gchar* _tmp1_ = NULL;
		_tmp1_ = g_strdup ("false");
		result = _tmp1_;
		return result;
	}
}


gboolean yatla_database_update_list (YatlaDatabase* self, YatlaList* list, const gchar* list_name) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (list != NULL, FALSE);
	g_return_val_if_fail (list_name != NULL, FALSE);
	{
		gchar* sql_command = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		gint task_index = 0;
		SQLHeavyQuery* _tmp5_ = NULL;
		SQLHeavyDatabase* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		SQLHeavyQuery* _tmp8_ = NULL;
		SQLHeavyQuery* _tmp9_ = NULL;
		_tmp0_ = list_name;
		_tmp1_ = g_strconcat ("SELECT * FROM `", _tmp0_, NULL);
		_tmp2_ = _tmp1_;
		_tmp3_ = g_strconcat (_tmp2_, "_tasks`;", NULL);
		_tmp4_ = _tmp3_;
		_g_free0 (_tmp2_);
		sql_command = _tmp4_;
		task_index = 0;
		_tmp6_ = self->priv->_database;
		_tmp7_ = sql_command;
		_tmp8_ = sql_heavy_query_new ((SQLHeavyQueryable*) _tmp6_, _tmp7_, &_inner_error_);
		_tmp5_ = _tmp8_;
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch6_sql_heavy_error;
			}
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp9_ = _tmp5_;
		_tmp5_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp9_;
		{
			SQLHeavyQueryResult* results = NULL;
			SQLHeavyQuery* _tmp10_ = NULL;
			SQLHeavyQueryResult* _tmp11_ = NULL;
			_tmp10_ = self->priv->_query;
			_tmp11_ = sql_heavy_query_execute (_tmp10_, NULL, &_inner_error_, NULL);
			results = _tmp11_;
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch6_sql_heavy_error;
				}
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
			{
				gboolean _tmp12_ = FALSE;
				_tmp12_ = TRUE;
				while (TRUE) {
					SQLHeavyQueryResult* _tmp14_ = NULL;
					gboolean _tmp15_ = FALSE;
					gboolean _tmp16_ = FALSE;
					gchar* task_name = NULL;
					SQLHeavyQueryResult* _tmp17_ = NULL;
					gchar* _tmp18_ = NULL;
					gchar* task_note = NULL;
					SQLHeavyQueryResult* _tmp19_ = NULL;
					gchar* _tmp20_ = NULL;
					GDateTime* task_date = NULL;
					gchar* _tmp21_ = NULL;
					SQLHeavyQueryResult* _tmp22_ = NULL;
					gchar* _tmp23_ = NULL;
					gchar* _tmp24_ = NULL;
					gchar* _tmp25_ = NULL;
					gboolean _tmp26_ = FALSE;
					gchar* _tmp33_ = NULL;
					SQLHeavyQueryResult* _tmp34_ = NULL;
					gchar* _tmp35_ = NULL;
					gboolean task_is_done = FALSE;
					gboolean _tmp36_ = FALSE;
					gboolean _tmp37_ = FALSE;
					gboolean _tmp38_ = FALSE;
					gboolean _tmp39_ = FALSE;
					YatlaList* _tmp40_ = NULL;
					GList* _tmp41_ = NULL;
					gint _tmp42_ = 0;
					gconstpointer _tmp43_ = NULL;
					const gchar* _tmp44_ = NULL;
					const gchar* _tmp45_ = NULL;
					const gchar* _tmp46_ = NULL;
					gint _tmp196_ = 0;
					if (!_tmp12_) {
						SQLHeavyQueryResult* _tmp13_ = NULL;
						_tmp13_ = results;
						sql_heavy_record_set_next ((SQLHeavyRecordSet*) _tmp13_, &_inner_error_);
						if (_inner_error_ != NULL) {
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
					}
					_tmp12_ = FALSE;
					_tmp14_ = results;
					_tmp15_ = sql_heavy_query_result_get_finished (_tmp14_);
					_tmp16_ = _tmp15_;
					if (!(!_tmp16_)) {
						break;
					}
					_tmp17_ = results;
					_tmp18_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp17_, 1, &_inner_error_);
					task_name = _tmp18_;
					if (_inner_error_ != NULL) {
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch6_sql_heavy_error;
						}
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return FALSE;
					}
					_tmp19_ = results;
					_tmp20_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp19_, 2, &_inner_error_);
					task_note = _tmp20_;
					if (_inner_error_ != NULL) {
						_g_free0 (task_name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch6_sql_heavy_error;
						}
						_g_free0 (task_name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return FALSE;
					}
					_tmp22_ = results;
					_tmp23_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp22_, 3, &_inner_error_);
					_tmp21_ = _tmp23_;
					if (_inner_error_ != NULL) {
						_g_date_time_unref0 (task_date);
						_g_free0 (task_note);
						_g_free0 (task_name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch6_sql_heavy_error;
						}
						_g_date_time_unref0 (task_date);
						_g_free0 (task_note);
						_g_free0 (task_name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return FALSE;
					}
					_tmp24_ = _tmp21_;
					_tmp21_ = NULL;
					_tmp25_ = _tmp24_;
					_tmp26_ = g_strcmp0 (_tmp25_, "") != 0;
					_g_free0 (_tmp25_);
					if (_tmp26_) {
						gchar* _tmp27_ = NULL;
						SQLHeavyQueryResult* _tmp28_ = NULL;
						gchar* _tmp29_ = NULL;
						YatlaDateTime* _tmp30_ = NULL;
						YatlaDateTime* _tmp31_ = NULL;
						GDateTime* _tmp32_ = NULL;
						_tmp28_ = results;
						_tmp29_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp28_, 3, &_inner_error_);
						_tmp27_ = _tmp29_;
						if (_inner_error_ != NULL) {
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
						_tmp30_ = yatla_date_time_new_from_string_with_format (_tmp27_, YATLA_DATE_TIME_DEFAULT_FORMAT);
						_tmp31_ = _tmp30_;
						_tmp32_ = yatla_date_time_get_datetime (_tmp31_);
						_g_date_time_unref0 (task_date);
						task_date = _tmp32_;
						_g_object_unref0 (_tmp31_);
						_g_free0 (_tmp27_);
					} else {
						_g_date_time_unref0 (task_date);
						task_date = NULL;
					}
					_tmp34_ = results;
					_tmp35_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp34_, 4, &_inner_error_);
					_tmp33_ = _tmp35_;
					if (_inner_error_ != NULL) {
						_g_free0 (_tmp21_);
						_g_date_time_unref0 (task_date);
						_g_free0 (task_note);
						_g_free0 (task_name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						if (_inner_error_->domain == SQL_HEAVY_ERROR) {
							goto __catch6_sql_heavy_error;
						}
						_g_free0 (_tmp21_);
						_g_date_time_unref0 (task_date);
						_g_free0 (task_note);
						_g_free0 (task_name);
						_g_object_unref0 (results);
						_g_object_unref0 (_tmp5_);
						_g_free0 (sql_command);
						g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
						g_clear_error (&_inner_error_);
						return FALSE;
					}
					_tmp36_ = bool_parse (_tmp33_);
					task_is_done = _tmp36_;
					_tmp40_ = list;
					_tmp41_ = _tmp40_->tasks;
					_tmp42_ = task_index;
					_tmp43_ = g_list_nth_data (_tmp41_, (guint) _tmp42_);
					_tmp44_ = yatla_task_get_name ((YatlaTask*) _tmp43_);
					_tmp45_ = _tmp44_;
					_tmp46_ = task_name;
					if (g_strcmp0 (_tmp45_, _tmp46_) != 0) {
						_tmp39_ = TRUE;
					} else {
						YatlaList* _tmp47_ = NULL;
						GList* _tmp48_ = NULL;
						gint _tmp49_ = 0;
						gconstpointer _tmp50_ = NULL;
						const gchar* _tmp51_ = NULL;
						const gchar* _tmp52_ = NULL;
						const gchar* _tmp53_ = NULL;
						_tmp47_ = list;
						_tmp48_ = _tmp47_->tasks;
						_tmp49_ = task_index;
						_tmp50_ = g_list_nth_data (_tmp48_, (guint) _tmp49_);
						_tmp51_ = yatla_task_get_note ((YatlaTask*) _tmp50_);
						_tmp52_ = _tmp51_;
						_tmp53_ = task_note;
						_tmp39_ = g_strcmp0 (_tmp52_, _tmp53_) != 0;
					}
					if (_tmp39_) {
						_tmp38_ = TRUE;
					} else {
						YatlaList* _tmp54_ = NULL;
						GList* _tmp55_ = NULL;
						gint _tmp56_ = 0;
						gconstpointer _tmp57_ = NULL;
						GDateTime* _tmp58_ = NULL;
						GDateTime* _tmp59_ = NULL;
						GDateTime* _tmp60_ = NULL;
						_tmp54_ = list;
						_tmp55_ = _tmp54_->tasks;
						_tmp56_ = task_index;
						_tmp57_ = g_list_nth_data (_tmp55_, (guint) _tmp56_);
						_tmp58_ = yatla_task_get_date ((YatlaTask*) _tmp57_);
						_tmp59_ = _tmp58_;
						_tmp60_ = task_date;
						_tmp38_ = _tmp59_ != _tmp60_;
					}
					if (_tmp38_) {
						_tmp37_ = TRUE;
					} else {
						YatlaList* _tmp61_ = NULL;
						GList* _tmp62_ = NULL;
						gint _tmp63_ = 0;
						gconstpointer _tmp64_ = NULL;
						gboolean _tmp65_ = FALSE;
						gboolean _tmp66_ = FALSE;
						gboolean _tmp67_ = FALSE;
						_tmp61_ = list;
						_tmp62_ = _tmp61_->tasks;
						_tmp63_ = task_index;
						_tmp64_ = g_list_nth_data (_tmp62_, (guint) _tmp63_);
						_tmp65_ = yatla_task_get_is_done ((YatlaTask*) _tmp64_);
						_tmp66_ = _tmp65_;
						_tmp67_ = task_is_done;
						_tmp37_ = _tmp66_ != _tmp67_;
					}
					if (_tmp37_) {
						YatlaTask* task = NULL;
						YatlaList* _tmp68_ = NULL;
						GList* _tmp69_ = NULL;
						gint _tmp70_ = 0;
						gconstpointer _tmp71_ = NULL;
						const gchar* _tmp72_ = NULL;
						const gchar* _tmp73_ = NULL;
						YatlaList* _tmp74_ = NULL;
						GList* _tmp75_ = NULL;
						gint _tmp76_ = 0;
						gconstpointer _tmp77_ = NULL;
						const gchar* _tmp78_ = NULL;
						const gchar* _tmp79_ = NULL;
						YatlaList* _tmp80_ = NULL;
						GList* _tmp81_ = NULL;
						gint _tmp82_ = 0;
						gconstpointer _tmp83_ = NULL;
						GDateTime* _tmp84_ = NULL;
						GDateTime* _tmp85_ = NULL;
						YatlaList* _tmp86_ = NULL;
						GList* _tmp87_ = NULL;
						gint _tmp88_ = 0;
						gconstpointer _tmp89_ = NULL;
						gboolean _tmp90_ = FALSE;
						gboolean _tmp91_ = FALSE;
						YatlaTask* _tmp92_ = NULL;
						YatlaTask* _tmp93_ = NULL;
						YatlaList* _tmp94_ = NULL;
						GList* _tmp95_ = NULL;
						gint _tmp96_ = 0;
						gconstpointer _tmp97_ = NULL;
						gint _tmp98_ = 0;
						gint _tmp99_ = 0;
						const gchar* _tmp100_ = NULL;
						gchar* _tmp101_ = NULL;
						gchar* _tmp102_ = NULL;
						gchar* _tmp103_ = NULL;
						const gchar* _tmp104_ = NULL;
						YatlaTask* _tmp105_ = NULL;
						const gchar* _tmp106_ = NULL;
						const gchar* _tmp107_ = NULL;
						const gchar* _tmp110_ = NULL;
						YatlaTask* _tmp111_ = NULL;
						const gchar* _tmp112_ = NULL;
						const gchar* _tmp113_ = NULL;
						GDateTime* _tmp116_ = NULL;
						YatlaTask* _tmp117_ = NULL;
						GDateTime* _tmp118_ = NULL;
						GDateTime* _tmp119_ = NULL;
						gboolean _tmp122_ = FALSE;
						YatlaTask* _tmp123_ = NULL;
						gboolean _tmp124_ = FALSE;
						gboolean _tmp125_ = FALSE;
						const gchar* _tmp128_ = NULL;
						const gchar* _tmp129_ = NULL;
						gint _tmp130_ = 0;
						gint _tmp131_ = 0;
						gchar* _tmp132_ = NULL;
						gchar* _tmp133_ = NULL;
						gchar* _tmp134_ = NULL;
						SQLHeavyTransaction* _tmp135_ = NULL;
						SQLHeavyDatabase* _tmp136_ = NULL;
						SQLHeavyTransaction* _tmp137_ = NULL;
						SQLHeavyTransaction* _tmp138_ = NULL;
						SQLHeavyQuery* _tmp139_ = NULL;
						SQLHeavyTransaction* _tmp140_ = NULL;
						const gchar* _tmp141_ = NULL;
						SQLHeavyQuery* _tmp142_ = NULL;
						SQLHeavyQuery* _tmp143_ = NULL;
						const gchar* _tmp144_ = NULL;
						YatlaTask* _tmp145_ = NULL;
						const gchar* _tmp146_ = NULL;
						const gchar* _tmp147_ = NULL;
						const gchar* _tmp153_ = NULL;
						YatlaTask* _tmp154_ = NULL;
						const gchar* _tmp155_ = NULL;
						const gchar* _tmp156_ = NULL;
						GDateTime* _tmp162_ = NULL;
						YatlaTask* _tmp163_ = NULL;
						GDateTime* _tmp164_ = NULL;
						GDateTime* _tmp165_ = NULL;
						gboolean _tmp177_ = FALSE;
						YatlaTask* _tmp178_ = NULL;
						gboolean _tmp179_ = FALSE;
						gboolean _tmp180_ = FALSE;
						SQLHeavyQuery* _tmp187_ = NULL;
						YatlaTask* _tmp188_ = NULL;
						gint _tmp189_ = 0;
						gint _tmp190_ = 0;
						GValue* _tmp191_ = NULL;
						SQLHeavyQuery* _tmp192_ = NULL;
						SQLHeavyQueryResult* _tmp193_ = NULL;
						SQLHeavyQueryResult* _tmp194_ = NULL;
						SQLHeavyTransaction* _tmp195_ = NULL;
						_tmp68_ = list;
						_tmp69_ = _tmp68_->tasks;
						_tmp70_ = task_index;
						_tmp71_ = g_list_nth_data (_tmp69_, (guint) _tmp70_);
						_tmp72_ = yatla_task_get_name ((YatlaTask*) _tmp71_);
						_tmp73_ = _tmp72_;
						_tmp74_ = list;
						_tmp75_ = _tmp74_->tasks;
						_tmp76_ = task_index;
						_tmp77_ = g_list_nth_data (_tmp75_, (guint) _tmp76_);
						_tmp78_ = yatla_task_get_note ((YatlaTask*) _tmp77_);
						_tmp79_ = _tmp78_;
						_tmp80_ = list;
						_tmp81_ = _tmp80_->tasks;
						_tmp82_ = task_index;
						_tmp83_ = g_list_nth_data (_tmp81_, (guint) _tmp82_);
						_tmp84_ = yatla_task_get_date ((YatlaTask*) _tmp83_);
						_tmp85_ = _tmp84_;
						_tmp86_ = list;
						_tmp87_ = _tmp86_->tasks;
						_tmp88_ = task_index;
						_tmp89_ = g_list_nth_data (_tmp87_, (guint) _tmp88_);
						_tmp90_ = yatla_task_get_is_done ((YatlaTask*) _tmp89_);
						_tmp91_ = _tmp90_;
						_tmp92_ = yatla_task_new (_tmp73_, _tmp79_, _tmp85_, _tmp91_);
						task = _tmp92_;
						_tmp93_ = task;
						_tmp94_ = list;
						_tmp95_ = _tmp94_->tasks;
						_tmp96_ = task_index;
						_tmp97_ = g_list_nth_data (_tmp95_, (guint) _tmp96_);
						_tmp98_ = yatla_task_get_id ((YatlaTask*) _tmp97_);
						_tmp99_ = _tmp98_;
						yatla_task_set_id (_tmp93_, _tmp99_);
						_tmp100_ = list_name;
						_tmp101_ = g_strconcat ("UPDATE `", _tmp100_, NULL);
						_tmp102_ = _tmp101_;
						_tmp103_ = g_strconcat (_tmp102_, "_tasks` SET ", NULL);
						_g_free0 (sql_command);
						sql_command = _tmp103_;
						_g_free0 (_tmp102_);
						_tmp104_ = task_name;
						_tmp105_ = task;
						_tmp106_ = yatla_task_get_name (_tmp105_);
						_tmp107_ = _tmp106_;
						if (g_strcmp0 (_tmp104_, _tmp107_) != 0) {
							const gchar* _tmp108_ = NULL;
							gchar* _tmp109_ = NULL;
							_tmp108_ = sql_command;
							_tmp109_ = g_strconcat (_tmp108_, "name = (:new_name),", NULL);
							_g_free0 (sql_command);
							sql_command = _tmp109_;
						}
						_tmp110_ = task_note;
						_tmp111_ = task;
						_tmp112_ = yatla_task_get_note (_tmp111_);
						_tmp113_ = _tmp112_;
						if (g_strcmp0 (_tmp110_, _tmp113_) != 0) {
							const gchar* _tmp114_ = NULL;
							gchar* _tmp115_ = NULL;
							_tmp114_ = sql_command;
							_tmp115_ = g_strconcat (_tmp114_, "note = (:new_note),", NULL);
							_g_free0 (sql_command);
							sql_command = _tmp115_;
						}
						_tmp116_ = task_date;
						_tmp117_ = task;
						_tmp118_ = yatla_task_get_date (_tmp117_);
						_tmp119_ = _tmp118_;
						if (_tmp116_ != _tmp119_) {
							const gchar* _tmp120_ = NULL;
							gchar* _tmp121_ = NULL;
							_tmp120_ = sql_command;
							_tmp121_ = g_strconcat (_tmp120_, "date = (:new_date),", NULL);
							_g_free0 (sql_command);
							sql_command = _tmp121_;
						}
						_tmp122_ = task_is_done;
						_tmp123_ = task;
						_tmp124_ = yatla_task_get_is_done (_tmp123_);
						_tmp125_ = _tmp124_;
						if (_tmp122_ != _tmp125_) {
							const gchar* _tmp126_ = NULL;
							gchar* _tmp127_ = NULL;
							_tmp126_ = sql_command;
							_tmp127_ = g_strconcat (_tmp126_, "is_done = (:new_is_done),", NULL);
							_g_free0 (sql_command);
							sql_command = _tmp127_;
						}
						_tmp128_ = sql_command;
						_tmp129_ = sql_command;
						_tmp130_ = strlen (_tmp129_);
						_tmp131_ = _tmp130_;
						_tmp132_ = string_substring (_tmp128_, (glong) 0, (glong) (_tmp131_ - 1));
						_tmp133_ = _tmp132_;
						_tmp134_ = g_strconcat (_tmp133_, " WHERE id = (:id);", NULL);
						_g_free0 (sql_command);
						sql_command = _tmp134_;
						_g_free0 (_tmp133_);
						_tmp136_ = self->priv->_database;
						_tmp137_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp136_, &_inner_error_);
						_tmp135_ = _tmp137_;
						if (_inner_error_ != NULL) {
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
						_tmp138_ = _tmp135_;
						_tmp135_ = NULL;
						_g_object_unref0 (self->priv->_transaction);
						self->priv->_transaction = _tmp138_;
						_tmp140_ = self->priv->_transaction;
						_tmp141_ = sql_command;
						_tmp142_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp140_, _tmp141_, &_inner_error_);
						_tmp139_ = _tmp142_;
						if (_inner_error_ != NULL) {
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
						_tmp143_ = _tmp139_;
						_tmp139_ = NULL;
						_g_object_unref0 (self->priv->_query);
						self->priv->_query = _tmp143_;
						_tmp144_ = task_name;
						_tmp145_ = task;
						_tmp146_ = yatla_task_get_name (_tmp145_);
						_tmp147_ = _tmp146_;
						if (g_strcmp0 (_tmp144_, _tmp147_) != 0) {
							SQLHeavyQuery* _tmp148_ = NULL;
							YatlaTask* _tmp149_ = NULL;
							const gchar* _tmp150_ = NULL;
							const gchar* _tmp151_ = NULL;
							GValue* _tmp152_ = NULL;
							_tmp148_ = self->priv->_query;
							_tmp149_ = task;
							_tmp150_ = yatla_task_get_name (_tmp149_);
							_tmp151_ = _tmp150_;
							_tmp152_ = g_new0 (GValue, 1);
							g_value_init (_tmp152_, G_TYPE_STRING);
							g_value_set_string (_tmp152_, _tmp151_);
							sql_heavy_query_set (_tmp148_, ":new_name", _tmp152_, &_inner_error_);
							__vala_GValue_free0 (_tmp152_);
							if (_inner_error_ != NULL) {
								_g_object_unref0 (_tmp139_);
								_g_object_unref0 (_tmp135_);
								_g_object_unref0 (task);
								_g_free0 (_tmp33_);
								_g_free0 (_tmp21_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
								_g_object_unref0 (results);
								_g_object_unref0 (_tmp5_);
								_g_free0 (sql_command);
								if (_inner_error_->domain == SQL_HEAVY_ERROR) {
									goto __catch6_sql_heavy_error;
								}
								_g_object_unref0 (_tmp139_);
								_g_object_unref0 (_tmp135_);
								_g_object_unref0 (task);
								_g_free0 (_tmp33_);
								_g_free0 (_tmp21_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
								_g_object_unref0 (results);
								_g_object_unref0 (_tmp5_);
								_g_free0 (sql_command);
								g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
								g_clear_error (&_inner_error_);
								return FALSE;
							}
						}
						_tmp153_ = task_note;
						_tmp154_ = task;
						_tmp155_ = yatla_task_get_note (_tmp154_);
						_tmp156_ = _tmp155_;
						if (g_strcmp0 (_tmp153_, _tmp156_) != 0) {
							SQLHeavyQuery* _tmp157_ = NULL;
							YatlaTask* _tmp158_ = NULL;
							const gchar* _tmp159_ = NULL;
							const gchar* _tmp160_ = NULL;
							GValue* _tmp161_ = NULL;
							_tmp157_ = self->priv->_query;
							_tmp158_ = task;
							_tmp159_ = yatla_task_get_note (_tmp158_);
							_tmp160_ = _tmp159_;
							_tmp161_ = g_new0 (GValue, 1);
							g_value_init (_tmp161_, G_TYPE_STRING);
							g_value_set_string (_tmp161_, _tmp160_);
							sql_heavy_query_set (_tmp157_, ":new_note", _tmp161_, &_inner_error_);
							__vala_GValue_free0 (_tmp161_);
							if (_inner_error_ != NULL) {
								_g_object_unref0 (_tmp139_);
								_g_object_unref0 (_tmp135_);
								_g_object_unref0 (task);
								_g_free0 (_tmp33_);
								_g_free0 (_tmp21_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
								_g_object_unref0 (results);
								_g_object_unref0 (_tmp5_);
								_g_free0 (sql_command);
								if (_inner_error_->domain == SQL_HEAVY_ERROR) {
									goto __catch6_sql_heavy_error;
								}
								_g_object_unref0 (_tmp139_);
								_g_object_unref0 (_tmp135_);
								_g_object_unref0 (task);
								_g_free0 (_tmp33_);
								_g_free0 (_tmp21_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
								_g_object_unref0 (results);
								_g_object_unref0 (_tmp5_);
								_g_free0 (sql_command);
								g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
								g_clear_error (&_inner_error_);
								return FALSE;
							}
						}
						_tmp162_ = task_date;
						_tmp163_ = task;
						_tmp164_ = yatla_task_get_date (_tmp163_);
						_tmp165_ = _tmp164_;
						if (_tmp162_ != _tmp165_) {
							YatlaTask* _tmp166_ = NULL;
							GDateTime* _tmp167_ = NULL;
							GDateTime* _tmp168_ = NULL;
							_tmp166_ = task;
							_tmp167_ = yatla_task_get_date (_tmp166_);
							_tmp168_ = _tmp167_;
							if (_tmp168_ == NULL) {
								SQLHeavyQuery* _tmp169_ = NULL;
								GValue* _tmp170_ = NULL;
								_tmp169_ = self->priv->_query;
								_tmp170_ = g_new0 (GValue, 1);
								g_value_init (_tmp170_, G_TYPE_STRING);
								g_value_set_string (_tmp170_, "");
								sql_heavy_query_set (_tmp169_, ":new_date", _tmp170_, &_inner_error_);
								__vala_GValue_free0 (_tmp170_);
								if (_inner_error_ != NULL) {
									_g_object_unref0 (_tmp139_);
									_g_object_unref0 (_tmp135_);
									_g_object_unref0 (task);
									_g_free0 (_tmp33_);
									_g_free0 (_tmp21_);
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp5_);
									_g_free0 (sql_command);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch6_sql_heavy_error;
									}
									_g_object_unref0 (_tmp139_);
									_g_object_unref0 (_tmp135_);
									_g_object_unref0 (task);
									_g_free0 (_tmp33_);
									_g_free0 (_tmp21_);
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp5_);
									_g_free0 (sql_command);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return FALSE;
								}
							} else {
								SQLHeavyQuery* _tmp171_ = NULL;
								YatlaTask* _tmp172_ = NULL;
								GDateTime* _tmp173_ = NULL;
								GDateTime* _tmp174_ = NULL;
								gchar* _tmp175_ = NULL;
								GValue* _tmp176_ = NULL;
								_tmp171_ = self->priv->_query;
								_tmp172_ = task;
								_tmp173_ = yatla_task_get_date (_tmp172_);
								_tmp174_ = _tmp173_;
								_tmp175_ = g_date_time_to_string (_tmp174_);
								_tmp176_ = g_new0 (GValue, 1);
								g_value_init (_tmp176_, G_TYPE_STRING);
								g_value_take_string (_tmp176_, _tmp175_);
								sql_heavy_query_set (_tmp171_, ":new_date", _tmp176_, &_inner_error_);
								__vala_GValue_free0 (_tmp176_);
								if (_inner_error_ != NULL) {
									_g_object_unref0 (_tmp139_);
									_g_object_unref0 (_tmp135_);
									_g_object_unref0 (task);
									_g_free0 (_tmp33_);
									_g_free0 (_tmp21_);
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp5_);
									_g_free0 (sql_command);
									if (_inner_error_->domain == SQL_HEAVY_ERROR) {
										goto __catch6_sql_heavy_error;
									}
									_g_object_unref0 (_tmp139_);
									_g_object_unref0 (_tmp135_);
									_g_object_unref0 (task);
									_g_free0 (_tmp33_);
									_g_free0 (_tmp21_);
									_g_date_time_unref0 (task_date);
									_g_free0 (task_note);
									_g_free0 (task_name);
									_g_object_unref0 (results);
									_g_object_unref0 (_tmp5_);
									_g_free0 (sql_command);
									g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
									g_clear_error (&_inner_error_);
									return FALSE;
								}
							}
						}
						_tmp177_ = task_is_done;
						_tmp178_ = task;
						_tmp179_ = yatla_task_get_is_done (_tmp178_);
						_tmp180_ = _tmp179_;
						if (_tmp177_ != _tmp180_) {
							SQLHeavyQuery* _tmp181_ = NULL;
							YatlaTask* _tmp182_ = NULL;
							gboolean _tmp183_ = FALSE;
							gboolean _tmp184_ = FALSE;
							gchar* _tmp185_ = NULL;
							GValue* _tmp186_ = NULL;
							_tmp181_ = self->priv->_query;
							_tmp182_ = task;
							_tmp183_ = yatla_task_get_is_done (_tmp182_);
							_tmp184_ = _tmp183_;
							_tmp185_ = bool_to_string (_tmp184_);
							_tmp186_ = g_new0 (GValue, 1);
							g_value_init (_tmp186_, G_TYPE_STRING);
							g_value_take_string (_tmp186_, _tmp185_);
							sql_heavy_query_set (_tmp181_, ":new_is_done", _tmp186_, &_inner_error_);
							__vala_GValue_free0 (_tmp186_);
							if (_inner_error_ != NULL) {
								_g_object_unref0 (_tmp139_);
								_g_object_unref0 (_tmp135_);
								_g_object_unref0 (task);
								_g_free0 (_tmp33_);
								_g_free0 (_tmp21_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
								_g_object_unref0 (results);
								_g_object_unref0 (_tmp5_);
								_g_free0 (sql_command);
								if (_inner_error_->domain == SQL_HEAVY_ERROR) {
									goto __catch6_sql_heavy_error;
								}
								_g_object_unref0 (_tmp139_);
								_g_object_unref0 (_tmp135_);
								_g_object_unref0 (task);
								_g_free0 (_tmp33_);
								_g_free0 (_tmp21_);
								_g_date_time_unref0 (task_date);
								_g_free0 (task_note);
								_g_free0 (task_name);
								_g_object_unref0 (results);
								_g_object_unref0 (_tmp5_);
								_g_free0 (sql_command);
								g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
								g_clear_error (&_inner_error_);
								return FALSE;
							}
						}
						_tmp187_ = self->priv->_query;
						_tmp188_ = task;
						_tmp189_ = yatla_task_get_id (_tmp188_);
						_tmp190_ = _tmp189_;
						_tmp191_ = g_new0 (GValue, 1);
						g_value_init (_tmp191_, G_TYPE_INT);
						g_value_set_int (_tmp191_, _tmp190_);
						sql_heavy_query_set (_tmp187_, ":id", _tmp191_, &_inner_error_);
						__vala_GValue_free0 (_tmp191_);
						if (_inner_error_ != NULL) {
							_g_object_unref0 (_tmp139_);
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_object_unref0 (_tmp139_);
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
						_tmp192_ = self->priv->_query;
						_tmp193_ = sql_heavy_query_execute (_tmp192_, NULL, &_inner_error_, NULL);
						_tmp194_ = _tmp193_;
						_g_object_unref0 (_tmp194_);
						if (_inner_error_ != NULL) {
							_g_object_unref0 (_tmp139_);
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_object_unref0 (_tmp139_);
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
						_tmp195_ = self->priv->_transaction;
						sql_heavy_transaction_commit (_tmp195_, &_inner_error_);
						if (_inner_error_ != NULL) {
							_g_object_unref0 (_tmp139_);
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							if (_inner_error_->domain == SQL_HEAVY_ERROR) {
								goto __catch6_sql_heavy_error;
							}
							_g_object_unref0 (_tmp139_);
							_g_object_unref0 (_tmp135_);
							_g_object_unref0 (task);
							_g_free0 (_tmp33_);
							_g_free0 (_tmp21_);
							_g_date_time_unref0 (task_date);
							_g_free0 (task_note);
							_g_free0 (task_name);
							_g_object_unref0 (results);
							_g_object_unref0 (_tmp5_);
							_g_free0 (sql_command);
							g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
							g_clear_error (&_inner_error_);
							return FALSE;
						}
						_g_object_unref0 (_tmp139_);
						_g_object_unref0 (_tmp135_);
						_g_object_unref0 (task);
					}
					_tmp196_ = task_index;
					task_index = _tmp196_ + 1;
					_g_free0 (_tmp33_);
					_g_free0 (_tmp21_);
					_g_date_time_unref0 (task_date);
					_g_free0 (task_note);
					_g_free0 (task_name);
				}
			}
			_g_object_unref0 (results);
		}
		result = TRUE;
		_g_object_unref0 (_tmp5_);
		_g_free0 (sql_command);
		return result;
	}
	goto __finally6;
	__catch6_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp197_ = NULL;
		FILE* _tmp198_ = NULL;
		GError* _tmp199_ = NULL;
		const gchar* _tmp200_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp197_ = stdout;
		fprintf (_tmp197_, "Error updating the task");
		_tmp198_ = stdout;
		_tmp199_ = e;
		_tmp200_ = _tmp199_->message;
		fprintf (_tmp198_, "Error : %s\n", _tmp200_);
		result = FALSE;
		_g_error_free0 (e);
		return result;
	}
	__finally6:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return FALSE;
}


/**
 * @brief   remove list from the database
 * @details remove list from the `lists` table
 *          and also "drop" the table with tasks
 *          of that list (removing that table)
 * 
 * @param  list  : list to be removed
 * @return true  : if removing the list was successful
 *         false : if removing the list wasn't successful
 */
gboolean yatla_database_remove_list (YatlaDatabase* self, YatlaList* list) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (list != NULL, FALSE);
	{
		SQLHeavyTransaction* _tmp0_ = NULL;
		SQLHeavyDatabase* _tmp1_ = NULL;
		SQLHeavyTransaction* _tmp2_ = NULL;
		SQLHeavyTransaction* _tmp3_ = NULL;
		SQLHeavyQuery* _tmp4_ = NULL;
		SQLHeavyTransaction* _tmp5_ = NULL;
		SQLHeavyQuery* _tmp6_ = NULL;
		SQLHeavyQuery* _tmp7_ = NULL;
		SQLHeavyQuery* _tmp8_ = NULL;
		YatlaList* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		GValue* _tmp12_ = NULL;
		SQLHeavyQuery* _tmp13_ = NULL;
		SQLHeavyQueryResult* _tmp14_ = NULL;
		SQLHeavyQueryResult* _tmp15_ = NULL;
		gchar* sql_command = NULL;
		YatlaList* _tmp16_ = NULL;
		const gchar* _tmp17_ = NULL;
		const gchar* _tmp18_ = NULL;
		gchar* _tmp19_ = NULL;
		gchar* _tmp20_ = NULL;
		gchar* _tmp21_ = NULL;
		gchar* _tmp22_ = NULL;
		SQLHeavyTransaction* _tmp23_ = NULL;
		const gchar* _tmp24_ = NULL;
		SQLHeavyQueryResult* _tmp25_ = NULL;
		SQLHeavyQueryResult* _tmp26_ = NULL;
		SQLHeavyTransaction* _tmp27_ = NULL;
		_tmp1_ = self->priv->_database;
		_tmp2_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp1_, &_inner_error_);
		_tmp0_ = _tmp2_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch7_sql_heavy_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp3_ = _tmp0_;
		_tmp0_ = NULL;
		_g_object_unref0 (self->priv->_transaction);
		self->priv->_transaction = _tmp3_;
		_tmp5_ = self->priv->_transaction;
		_tmp6_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp5_, "DELETE FROM `lists` WHERE name=:name;", &_inner_error_);
		_tmp4_ = _tmp6_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch7_sql_heavy_error;
			}
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp7_ = _tmp4_;
		_tmp4_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp7_;
		_tmp8_ = self->priv->_query;
		_tmp9_ = list;
		_tmp10_ = yatla_list_get_name (_tmp9_);
		_tmp11_ = _tmp10_;
		_tmp12_ = g_new0 (GValue, 1);
		g_value_init (_tmp12_, G_TYPE_STRING);
		g_value_set_string (_tmp12_, _tmp11_);
		sql_heavy_query_set (_tmp8_, ":name", _tmp12_, &_inner_error_);
		__vala_GValue_free0 (_tmp12_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch7_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp13_ = self->priv->_query;
		_tmp14_ = sql_heavy_query_execute (_tmp13_, NULL, &_inner_error_, NULL);
		_tmp15_ = _tmp14_;
		_g_object_unref0 (_tmp15_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch7_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp16_ = list;
		_tmp17_ = yatla_list_get_name (_tmp16_);
		_tmp18_ = _tmp17_;
		_tmp19_ = g_strconcat ("DROP TABLE ", _tmp18_, NULL);
		_tmp20_ = _tmp19_;
		_tmp21_ = g_strconcat (_tmp20_, "_tasks ", NULL);
		_tmp22_ = _tmp21_;
		_g_free0 (_tmp20_);
		sql_command = _tmp22_;
		_tmp23_ = self->priv->_transaction;
		_tmp24_ = sql_command;
		_tmp25_ = sql_heavy_queryable_execute ((SQLHeavyQueryable*) _tmp23_, _tmp24_, &_inner_error_, NULL);
		_tmp26_ = _tmp25_;
		_g_object_unref0 (_tmp26_);
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch7_sql_heavy_error;
			}
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp27_ = self->priv->_transaction;
		sql_heavy_transaction_commit (_tmp27_, &_inner_error_);
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch7_sql_heavy_error;
			}
			_g_free0 (sql_command);
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		result = TRUE;
		_g_free0 (sql_command);
		_g_object_unref0 (_tmp4_);
		_g_object_unref0 (_tmp0_);
		return result;
	}
	goto __finally7;
	__catch7_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp28_ = NULL;
		YatlaList* _tmp29_ = NULL;
		const gchar* _tmp30_ = NULL;
		const gchar* _tmp31_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp28_ = stderr;
		_tmp29_ = list;
		_tmp30_ = yatla_list_get_name (_tmp29_);
		_tmp31_ = _tmp30_;
		fprintf (_tmp28_, "Cannot delete list %s.\n", _tmp31_);
		result = FALSE;
		_g_error_free0 (e);
		return result;
	}
	__finally7:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return FALSE;
}


/**
 * @brief   rename a list in database
 * @details renaming the list in the database
 *          with a new name
 * 
 * @param list     : list to rename
 * @param new_name : a new name for the list
 * 
 * @return true  : if renaming was successful
 *         false : if renaming wasn't successful
 */
gboolean yatla_database_rename_list (YatlaDatabase* self, YatlaList* list, const gchar* new_name) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (list != NULL, FALSE);
	g_return_val_if_fail (new_name != NULL, FALSE);
	{
		SQLHeavyTransaction* _tmp0_ = NULL;
		SQLHeavyDatabase* _tmp1_ = NULL;
		SQLHeavyTransaction* _tmp2_ = NULL;
		SQLHeavyTransaction* _tmp3_ = NULL;
		SQLHeavyQuery* _tmp4_ = NULL;
		SQLHeavyTransaction* _tmp5_ = NULL;
		SQLHeavyQuery* _tmp6_ = NULL;
		SQLHeavyQuery* _tmp7_ = NULL;
		SQLHeavyQuery* _tmp8_ = NULL;
		const gchar* _tmp9_ = NULL;
		GValue* _tmp10_ = NULL;
		SQLHeavyQuery* _tmp11_ = NULL;
		YatlaList* _tmp12_ = NULL;
		const gchar* _tmp13_ = NULL;
		const gchar* _tmp14_ = NULL;
		GValue* _tmp15_ = NULL;
		SQLHeavyQuery* _tmp16_ = NULL;
		SQLHeavyQueryResult* _tmp17_ = NULL;
		SQLHeavyQueryResult* _tmp18_ = NULL;
		SQLHeavyTransaction* _tmp19_ = NULL;
		_tmp1_ = self->priv->_database;
		_tmp2_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp1_, &_inner_error_);
		_tmp0_ = _tmp2_;
		if (_inner_error_ != NULL) {
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch8_sql_heavy_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp3_ = _tmp0_;
		_tmp0_ = NULL;
		_g_object_unref0 (self->priv->_transaction);
		self->priv->_transaction = _tmp3_;
		_tmp5_ = self->priv->_transaction;
		_tmp6_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp5_, "UPDATE `lists` SET name = (:new_name) WHERE name = (:name);", &_inner_error_);
		_tmp4_ = _tmp6_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch8_sql_heavy_error;
			}
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp7_ = _tmp4_;
		_tmp4_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp7_;
		_tmp8_ = self->priv->_query;
		_tmp9_ = new_name;
		_tmp10_ = g_new0 (GValue, 1);
		g_value_init (_tmp10_, G_TYPE_STRING);
		g_value_set_string (_tmp10_, _tmp9_);
		sql_heavy_query_set (_tmp8_, ":new_name", _tmp10_, &_inner_error_);
		__vala_GValue_free0 (_tmp10_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch8_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp11_ = self->priv->_query;
		_tmp12_ = list;
		_tmp13_ = yatla_list_get_name (_tmp12_);
		_tmp14_ = _tmp13_;
		_tmp15_ = g_new0 (GValue, 1);
		g_value_init (_tmp15_, G_TYPE_STRING);
		g_value_set_string (_tmp15_, _tmp14_);
		sql_heavy_query_set (_tmp11_, ":name", _tmp15_, &_inner_error_);
		__vala_GValue_free0 (_tmp15_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch8_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp16_ = self->priv->_query;
		_tmp17_ = sql_heavy_query_execute (_tmp16_, NULL, &_inner_error_, NULL);
		_tmp18_ = _tmp17_;
		_g_object_unref0 (_tmp18_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch8_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp19_ = self->priv->_transaction;
		sql_heavy_transaction_commit (_tmp19_, &_inner_error_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch8_sql_heavy_error;
			}
			_g_object_unref0 (_tmp4_);
			_g_object_unref0 (_tmp0_);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		result = TRUE;
		_g_object_unref0 (_tmp4_);
		_g_object_unref0 (_tmp0_);
		return result;
	}
	goto __finally8;
	__catch8_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp20_ = NULL;
		YatlaList* _tmp21_ = NULL;
		const gchar* _tmp22_ = NULL;
		const gchar* _tmp23_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp20_ = stderr;
		_tmp21_ = list;
		_tmp22_ = yatla_list_get_name (_tmp21_);
		_tmp23_ = _tmp22_;
		fprintf (_tmp20_, "Cannot rename list %s.\n", _tmp23_);
		result = FALSE;
		_g_error_free0 (e);
		return result;
	}
	__finally8:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return FALSE;
}


/**
 * @brief   add task to database
 * @details add a task to the list_task table
 *          in the database
 * 
 * @param task      : a task, which will be added
 * @param list_name : name of the list, in order to find
 *                    the table, where to insert the task
 * 
 * @return true  : if adding a task was successful
 *         false : if adding a task wasn't successful
 */
gboolean yatla_database_add_task (YatlaDatabase* self, YatlaTask* task, const gchar* list_name) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (task != NULL, FALSE);
	g_return_val_if_fail (list_name != NULL, FALSE);
	{
		gchar* sql_command = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		SQLHeavyTransaction* _tmp5_ = NULL;
		SQLHeavyDatabase* _tmp6_ = NULL;
		SQLHeavyTransaction* _tmp7_ = NULL;
		SQLHeavyTransaction* _tmp8_ = NULL;
		SQLHeavyQuery* _tmp9_ = NULL;
		SQLHeavyTransaction* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		SQLHeavyQuery* _tmp12_ = NULL;
		SQLHeavyQuery* _tmp13_ = NULL;
		SQLHeavyQuery* _tmp14_ = NULL;
		YatlaTask* _tmp15_ = NULL;
		const gchar* _tmp16_ = NULL;
		const gchar* _tmp17_ = NULL;
		GValue* _tmp18_ = NULL;
		SQLHeavyQuery* _tmp19_ = NULL;
		YatlaTask* _tmp20_ = NULL;
		const gchar* _tmp21_ = NULL;
		const gchar* _tmp22_ = NULL;
		GValue* _tmp23_ = NULL;
		YatlaTask* _tmp24_ = NULL;
		GDateTime* _tmp25_ = NULL;
		GDateTime* _tmp26_ = NULL;
		SQLHeavyQuery* _tmp35_ = NULL;
		gchar* _tmp36_ = NULL;
		GValue* _tmp37_ = NULL;
		SQLHeavyQuery* _tmp38_ = NULL;
		SQLHeavyQueryResult* _tmp39_ = NULL;
		SQLHeavyQueryResult* _tmp40_ = NULL;
		SQLHeavyTransaction* _tmp41_ = NULL;
		_tmp0_ = list_name;
		_tmp1_ = g_strconcat ("INSERT INTO `", _tmp0_, NULL);
		_tmp2_ = _tmp1_;
		_tmp3_ = g_strconcat (_tmp2_, "_tasks` (`name`, `note`, `date`, `is_done`) VALUES (:name, :note, :dat" \
"e, :is_done);", NULL);
		_tmp4_ = _tmp3_;
		_g_free0 (_tmp2_);
		sql_command = _tmp4_;
		_tmp6_ = self->priv->_database;
		_tmp7_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp6_, &_inner_error_);
		_tmp5_ = _tmp7_;
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp8_ = _tmp5_;
		_tmp5_ = NULL;
		_g_object_unref0 (self->priv->_transaction);
		self->priv->_transaction = _tmp8_;
		_tmp10_ = self->priv->_transaction;
		_tmp11_ = sql_command;
		_tmp12_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp10_, _tmp11_, &_inner_error_);
		_tmp9_ = _tmp12_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp13_ = _tmp9_;
		_tmp9_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp13_;
		_tmp14_ = self->priv->_query;
		_tmp15_ = task;
		_tmp16_ = yatla_task_get_name (_tmp15_);
		_tmp17_ = _tmp16_;
		_tmp18_ = g_new0 (GValue, 1);
		g_value_init (_tmp18_, G_TYPE_STRING);
		g_value_set_string (_tmp18_, _tmp17_);
		sql_heavy_query_set (_tmp14_, ":name", _tmp18_, &_inner_error_);
		__vala_GValue_free0 (_tmp18_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp19_ = self->priv->_query;
		_tmp20_ = task;
		_tmp21_ = yatla_task_get_note (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp23_ = g_new0 (GValue, 1);
		g_value_init (_tmp23_, G_TYPE_STRING);
		g_value_set_string (_tmp23_, _tmp22_);
		sql_heavy_query_set (_tmp19_, ":note", _tmp23_, &_inner_error_);
		__vala_GValue_free0 (_tmp23_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp24_ = task;
		_tmp25_ = yatla_task_get_date (_tmp24_);
		_tmp26_ = _tmp25_;
		if (_tmp26_ == NULL) {
			SQLHeavyQuery* _tmp27_ = NULL;
			GValue* _tmp28_ = NULL;
			_tmp27_ = self->priv->_query;
			_tmp28_ = g_new0 (GValue, 1);
			g_value_init (_tmp28_, G_TYPE_STRING);
			g_value_set_string (_tmp28_, "");
			sql_heavy_query_set (_tmp27_, ":date", _tmp28_, &_inner_error_);
			__vala_GValue_free0 (_tmp28_);
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp9_);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch9_sql_heavy_error;
				}
				_g_object_unref0 (_tmp9_);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
		} else {
			SQLHeavyQuery* _tmp29_ = NULL;
			YatlaTask* _tmp30_ = NULL;
			GDateTime* _tmp31_ = NULL;
			GDateTime* _tmp32_ = NULL;
			gchar* _tmp33_ = NULL;
			GValue* _tmp34_ = NULL;
			_tmp29_ = self->priv->_query;
			_tmp30_ = task;
			_tmp31_ = yatla_task_get_date (_tmp30_);
			_tmp32_ = _tmp31_;
			_tmp33_ = g_date_time_to_string (_tmp32_);
			_tmp34_ = g_new0 (GValue, 1);
			g_value_init (_tmp34_, G_TYPE_STRING);
			g_value_take_string (_tmp34_, _tmp33_);
			sql_heavy_query_set (_tmp29_, ":date", _tmp34_, &_inner_error_);
			__vala_GValue_free0 (_tmp34_);
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp9_);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch9_sql_heavy_error;
				}
				_g_object_unref0 (_tmp9_);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
		}
		_tmp35_ = self->priv->_query;
		_tmp36_ = bool_to_string (FALSE);
		_tmp37_ = g_new0 (GValue, 1);
		g_value_init (_tmp37_, G_TYPE_STRING);
		g_value_take_string (_tmp37_, _tmp36_);
		sql_heavy_query_set (_tmp35_, ":is_done", _tmp37_, &_inner_error_);
		__vala_GValue_free0 (_tmp37_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp38_ = self->priv->_query;
		_tmp39_ = sql_heavy_query_execute (_tmp38_, NULL, &_inner_error_, NULL);
		_tmp40_ = _tmp39_;
		_g_object_unref0 (_tmp40_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp41_ = self->priv->_transaction;
		sql_heavy_transaction_commit (_tmp41_, &_inner_error_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch9_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		result = TRUE;
		_g_object_unref0 (_tmp9_);
		_g_object_unref0 (_tmp5_);
		_g_free0 (sql_command);
		return result;
	}
	goto __finally9;
	__catch9_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp42_ = NULL;
		YatlaTask* _tmp43_ = NULL;
		const gchar* _tmp44_ = NULL;
		const gchar* _tmp45_ = NULL;
		FILE* _tmp46_ = NULL;
		GError* _tmp47_ = NULL;
		const gchar* _tmp48_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp42_ = stderr;
		_tmp43_ = task;
		_tmp44_ = yatla_task_get_name (_tmp43_);
		_tmp45_ = _tmp44_;
		fprintf (_tmp42_, "Cannot insert task %s.\n", _tmp45_);
		_tmp46_ = stdout;
		_tmp47_ = e;
		_tmp48_ = _tmp47_->message;
		fprintf (_tmp46_, "Error : %s\n", _tmp48_);
		result = FALSE;
		_g_error_free0 (e);
		return result;
	}
	__finally9:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return FALSE;
}


gint yatla_database_get_task_id (YatlaDatabase* self, const gchar* task_name, const gchar* list_name) {
	gint result = 0;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (task_name != NULL, 0);
	g_return_val_if_fail (list_name != NULL, 0);
	{
		gchar* sql_command = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		SQLHeavyTransaction* _tmp5_ = NULL;
		SQLHeavyDatabase* _tmp6_ = NULL;
		SQLHeavyTransaction* _tmp7_ = NULL;
		SQLHeavyTransaction* _tmp8_ = NULL;
		SQLHeavyQuery* _tmp9_ = NULL;
		SQLHeavyTransaction* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		SQLHeavyQuery* _tmp12_ = NULL;
		SQLHeavyQuery* _tmp13_ = NULL;
		SQLHeavyQuery* _tmp14_ = NULL;
		const gchar* _tmp15_ = NULL;
		GValue* _tmp16_ = NULL;
		SQLHeavyQueryResult* results = NULL;
		SQLHeavyQuery* _tmp17_ = NULL;
		SQLHeavyQueryResult* _tmp18_ = NULL;
		gint id = 0;
		SQLHeavyQueryResult* _tmp19_ = NULL;
		gint _tmp20_ = 0;
		SQLHeavyTransaction* _tmp21_ = NULL;
		_tmp0_ = list_name;
		_tmp1_ = g_strconcat ("SELECT id FROM `", _tmp0_, NULL);
		_tmp2_ = _tmp1_;
		_tmp3_ = g_strconcat (_tmp2_, "_tasks` WHERE name = (:task_name);", NULL);
		_tmp4_ = _tmp3_;
		_g_free0 (_tmp2_);
		sql_command = _tmp4_;
		_tmp6_ = self->priv->_database;
		_tmp7_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp6_, &_inner_error_);
		_tmp5_ = _tmp7_;
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch10_sql_heavy_error;
			}
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return 0;
		}
		_tmp8_ = _tmp5_;
		_tmp5_ = NULL;
		_g_object_unref0 (self->priv->_transaction);
		self->priv->_transaction = _tmp8_;
		_tmp10_ = self->priv->_transaction;
		_tmp11_ = sql_command;
		_tmp12_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp10_, _tmp11_, &_inner_error_);
		_tmp9_ = _tmp12_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch10_sql_heavy_error;
			}
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return 0;
		}
		_tmp13_ = _tmp9_;
		_tmp9_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp13_;
		_tmp14_ = self->priv->_query;
		_tmp15_ = task_name;
		_tmp16_ = g_new0 (GValue, 1);
		g_value_init (_tmp16_, G_TYPE_STRING);
		g_value_set_string (_tmp16_, _tmp15_);
		sql_heavy_query_set (_tmp14_, ":task_name", _tmp16_, &_inner_error_);
		__vala_GValue_free0 (_tmp16_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch10_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return 0;
		}
		_tmp17_ = self->priv->_query;
		_tmp18_ = sql_heavy_query_execute (_tmp17_, NULL, &_inner_error_, NULL);
		results = _tmp18_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch10_sql_heavy_error;
			}
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return 0;
		}
		_tmp19_ = results;
		_tmp20_ = sql_heavy_record_fetch_int ((SQLHeavyRecord*) _tmp19_, 0, &_inner_error_);
		id = _tmp20_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch10_sql_heavy_error;
			}
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return 0;
		}
		_tmp21_ = self->priv->_transaction;
		sql_heavy_transaction_commit (_tmp21_, &_inner_error_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch10_sql_heavy_error;
			}
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp9_);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return 0;
		}
		result = id;
		_g_object_unref0 (results);
		_g_object_unref0 (_tmp9_);
		_g_object_unref0 (_tmp5_);
		_g_free0 (sql_command);
		return result;
	}
	goto __finally10;
	__catch10_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp22_ = NULL;
		const gchar* _tmp23_ = NULL;
		FILE* _tmp24_ = NULL;
		GError* _tmp25_ = NULL;
		const gchar* _tmp26_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp22_ = stderr;
		_tmp23_ = task_name;
		fprintf (_tmp22_, "Cannot get task id of task : %s.\n", _tmp23_);
		_tmp24_ = stdout;
		_tmp25_ = e;
		_tmp26_ = _tmp25_->message;
		fprintf (_tmp24_, "Error : %s\n", _tmp26_);
		result = -1;
		_g_error_free0 (e);
		return result;
	}
	__finally10:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return 0;
}


/**
 * @brief   updating the task
 * @details updating the task properties 
 *          in case any changes were done
 * 
 * @param task 		: task, which will be updated
 * @param list_name : name of the list, in order to find
 *                    the table, where to update the task
 * 
 * @return true  : if updating was successful
 *         false : if updating wasn't successful
 */
gboolean yatla_database_update_task (YatlaDatabase* self, YatlaTask* task, const gchar* list_name) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (task != NULL, FALSE);
	g_return_val_if_fail (list_name != NULL, FALSE);
	{
		gchar* sql_command = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		SQLHeavyQuery* _tmp5_ = NULL;
		SQLHeavyDatabase* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		SQLHeavyQuery* _tmp8_ = NULL;
		SQLHeavyQuery* _tmp9_ = NULL;
		SQLHeavyQuery* _tmp10_ = NULL;
		YatlaTask* _tmp11_ = NULL;
		gint _tmp12_ = 0;
		gint _tmp13_ = 0;
		GValue* _tmp14_ = NULL;
		SQLHeavyQueryResult* results = NULL;
		SQLHeavyQuery* _tmp15_ = NULL;
		SQLHeavyQueryResult* _tmp16_ = NULL;
		gchar* task_name = NULL;
		SQLHeavyQueryResult* _tmp17_ = NULL;
		gchar* _tmp18_ = NULL;
		gchar* task_note = NULL;
		SQLHeavyQueryResult* _tmp19_ = NULL;
		gchar* _tmp20_ = NULL;
		GDateTime* task_date = NULL;
		gchar* _tmp21_ = NULL;
		SQLHeavyQueryResult* _tmp22_ = NULL;
		gchar* _tmp23_ = NULL;
		gchar* _tmp24_ = NULL;
		gchar* _tmp25_ = NULL;
		gboolean _tmp26_ = FALSE;
		gchar* _tmp33_ = NULL;
		SQLHeavyQueryResult* _tmp34_ = NULL;
		gchar* _tmp35_ = NULL;
		gboolean task_is_done = FALSE;
		gboolean _tmp36_ = FALSE;
		const gchar* _tmp37_ = NULL;
		gchar* _tmp38_ = NULL;
		gchar* _tmp39_ = NULL;
		gchar* _tmp40_ = NULL;
		const gchar* _tmp41_ = NULL;
		YatlaTask* _tmp42_ = NULL;
		const gchar* _tmp43_ = NULL;
		const gchar* _tmp44_ = NULL;
		const gchar* _tmp47_ = NULL;
		YatlaTask* _tmp48_ = NULL;
		const gchar* _tmp49_ = NULL;
		const gchar* _tmp50_ = NULL;
		GDateTime* _tmp53_ = NULL;
		YatlaTask* _tmp54_ = NULL;
		GDateTime* _tmp55_ = NULL;
		GDateTime* _tmp56_ = NULL;
		gboolean _tmp59_ = FALSE;
		YatlaTask* _tmp60_ = NULL;
		gboolean _tmp61_ = FALSE;
		gboolean _tmp62_ = FALSE;
		const gchar* _tmp65_ = NULL;
		const gchar* _tmp66_ = NULL;
		gint _tmp67_ = 0;
		gint _tmp68_ = 0;
		gchar* _tmp69_ = NULL;
		gchar* _tmp70_ = NULL;
		gchar* _tmp71_ = NULL;
		SQLHeavyTransaction* _tmp72_ = NULL;
		SQLHeavyDatabase* _tmp73_ = NULL;
		SQLHeavyTransaction* _tmp74_ = NULL;
		SQLHeavyTransaction* _tmp75_ = NULL;
		SQLHeavyQuery* _tmp76_ = NULL;
		SQLHeavyTransaction* _tmp77_ = NULL;
		const gchar* _tmp78_ = NULL;
		SQLHeavyQuery* _tmp79_ = NULL;
		SQLHeavyQuery* _tmp80_ = NULL;
		const gchar* _tmp81_ = NULL;
		YatlaTask* _tmp82_ = NULL;
		const gchar* _tmp83_ = NULL;
		const gchar* _tmp84_ = NULL;
		const gchar* _tmp90_ = NULL;
		YatlaTask* _tmp91_ = NULL;
		const gchar* _tmp92_ = NULL;
		const gchar* _tmp93_ = NULL;
		GDateTime* _tmp99_ = NULL;
		YatlaTask* _tmp100_ = NULL;
		GDateTime* _tmp101_ = NULL;
		GDateTime* _tmp102_ = NULL;
		gboolean _tmp114_ = FALSE;
		YatlaTask* _tmp115_ = NULL;
		gboolean _tmp116_ = FALSE;
		gboolean _tmp117_ = FALSE;
		SQLHeavyQuery* _tmp124_ = NULL;
		YatlaTask* _tmp125_ = NULL;
		gint _tmp126_ = 0;
		gint _tmp127_ = 0;
		GValue* _tmp128_ = NULL;
		SQLHeavyQuery* _tmp129_ = NULL;
		SQLHeavyQueryResult* _tmp130_ = NULL;
		SQLHeavyQueryResult* _tmp131_ = NULL;
		SQLHeavyTransaction* _tmp132_ = NULL;
		_tmp0_ = list_name;
		_tmp1_ = g_strconcat ("SELECT * FROM `", _tmp0_, NULL);
		_tmp2_ = _tmp1_;
		_tmp3_ = g_strconcat (_tmp2_, "_tasks` WHERE id = (:id);", NULL);
		_tmp4_ = _tmp3_;
		_g_free0 (_tmp2_);
		sql_command = _tmp4_;
		_tmp6_ = self->priv->_database;
		_tmp7_ = sql_command;
		_tmp8_ = sql_heavy_query_new ((SQLHeavyQueryable*) _tmp6_, _tmp7_, &_inner_error_);
		_tmp5_ = _tmp8_;
		if (_inner_error_ != NULL) {
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp9_ = _tmp5_;
		_tmp5_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp9_;
		_tmp10_ = self->priv->_query;
		_tmp11_ = task;
		_tmp12_ = yatla_task_get_id (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = g_new0 (GValue, 1);
		g_value_init (_tmp14_, G_TYPE_INT);
		g_value_set_int (_tmp14_, _tmp13_);
		sql_heavy_query_set (_tmp10_, ":id", _tmp14_, &_inner_error_);
		__vala_GValue_free0 (_tmp14_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp15_ = self->priv->_query;
		_tmp16_ = sql_heavy_query_execute (_tmp15_, NULL, &_inner_error_, NULL);
		results = _tmp16_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp17_ = results;
		_tmp18_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp17_, 1, &_inner_error_);
		task_name = _tmp18_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp19_ = results;
		_tmp20_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp19_, 2, &_inner_error_);
		task_note = _tmp20_;
		if (_inner_error_ != NULL) {
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp22_ = results;
		_tmp23_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp22_, 3, &_inner_error_);
		_tmp21_ = _tmp23_;
		if (_inner_error_ != NULL) {
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp24_ = _tmp21_;
		_tmp21_ = NULL;
		_tmp25_ = _tmp24_;
		_tmp26_ = g_strcmp0 (_tmp25_, "") != 0;
		_g_free0 (_tmp25_);
		if (_tmp26_) {
			gchar* _tmp27_ = NULL;
			SQLHeavyQueryResult* _tmp28_ = NULL;
			gchar* _tmp29_ = NULL;
			YatlaDateTime* _tmp30_ = NULL;
			YatlaDateTime* _tmp31_ = NULL;
			GDateTime* _tmp32_ = NULL;
			_tmp28_ = results;
			_tmp29_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp28_, 3, &_inner_error_);
			_tmp27_ = _tmp29_;
			if (_inner_error_ != NULL) {
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch11_sql_heavy_error;
				}
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
			_tmp30_ = yatla_date_time_new_from_string_with_format (_tmp27_, YATLA_DATE_TIME_DEFAULT_FORMAT);
			_tmp31_ = _tmp30_;
			_tmp32_ = yatla_date_time_get_datetime (_tmp31_);
			_g_date_time_unref0 (task_date);
			task_date = _tmp32_;
			_g_object_unref0 (_tmp31_);
			_g_free0 (_tmp27_);
		} else {
			_g_date_time_unref0 (task_date);
			task_date = NULL;
		}
		_tmp34_ = results;
		_tmp35_ = sql_heavy_record_fetch_string ((SQLHeavyRecord*) _tmp34_, 4, &_inner_error_);
		_tmp33_ = _tmp35_;
		if (_inner_error_ != NULL) {
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp36_ = bool_parse (_tmp33_);
		task_is_done = _tmp36_;
		_tmp37_ = list_name;
		_tmp38_ = g_strconcat ("UPDATE `", _tmp37_, NULL);
		_tmp39_ = _tmp38_;
		_tmp40_ = g_strconcat (_tmp39_, "_tasks` SET ", NULL);
		_g_free0 (sql_command);
		sql_command = _tmp40_;
		_g_free0 (_tmp39_);
		_tmp41_ = task_name;
		_tmp42_ = task;
		_tmp43_ = yatla_task_get_name (_tmp42_);
		_tmp44_ = _tmp43_;
		if (g_strcmp0 (_tmp41_, _tmp44_) != 0) {
			const gchar* _tmp45_ = NULL;
			gchar* _tmp46_ = NULL;
			_tmp45_ = sql_command;
			_tmp46_ = g_strconcat (_tmp45_, "name = (:new_name),", NULL);
			_g_free0 (sql_command);
			sql_command = _tmp46_;
		}
		_tmp47_ = task_note;
		_tmp48_ = task;
		_tmp49_ = yatla_task_get_note (_tmp48_);
		_tmp50_ = _tmp49_;
		if (g_strcmp0 (_tmp47_, _tmp50_) != 0) {
			const gchar* _tmp51_ = NULL;
			gchar* _tmp52_ = NULL;
			_tmp51_ = sql_command;
			_tmp52_ = g_strconcat (_tmp51_, "note = (:new_note),", NULL);
			_g_free0 (sql_command);
			sql_command = _tmp52_;
		}
		_tmp53_ = task_date;
		_tmp54_ = task;
		_tmp55_ = yatla_task_get_date (_tmp54_);
		_tmp56_ = _tmp55_;
		if (_tmp53_ != _tmp56_) {
			const gchar* _tmp57_ = NULL;
			gchar* _tmp58_ = NULL;
			_tmp57_ = sql_command;
			_tmp58_ = g_strconcat (_tmp57_, "date = (:new_date),", NULL);
			_g_free0 (sql_command);
			sql_command = _tmp58_;
		}
		_tmp59_ = task_is_done;
		_tmp60_ = task;
		_tmp61_ = yatla_task_get_is_done (_tmp60_);
		_tmp62_ = _tmp61_;
		if (_tmp59_ != _tmp62_) {
			const gchar* _tmp63_ = NULL;
			gchar* _tmp64_ = NULL;
			_tmp63_ = sql_command;
			_tmp64_ = g_strconcat (_tmp63_, "is_done = (:new_is_done),", NULL);
			_g_free0 (sql_command);
			sql_command = _tmp64_;
		}
		_tmp65_ = sql_command;
		_tmp66_ = sql_command;
		_tmp67_ = strlen (_tmp66_);
		_tmp68_ = _tmp67_;
		_tmp69_ = string_substring (_tmp65_, (glong) 0, (glong) (_tmp68_ - 1));
		_tmp70_ = _tmp69_;
		_tmp71_ = g_strconcat (_tmp70_, " WHERE id = (:id);", NULL);
		_g_free0 (sql_command);
		sql_command = _tmp71_;
		_g_free0 (_tmp70_);
		_tmp73_ = self->priv->_database;
		_tmp74_ = sql_heavy_queryable_begin_transaction ((SQLHeavyQueryable*) _tmp73_, &_inner_error_);
		_tmp72_ = _tmp74_;
		if (_inner_error_ != NULL) {
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp75_ = _tmp72_;
		_tmp72_ = NULL;
		_g_object_unref0 (self->priv->_transaction);
		self->priv->_transaction = _tmp75_;
		_tmp77_ = self->priv->_transaction;
		_tmp78_ = sql_command;
		_tmp79_ = sql_heavy_queryable_prepare ((SQLHeavyQueryable*) _tmp77_, _tmp78_, &_inner_error_);
		_tmp76_ = _tmp79_;
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp80_ = _tmp76_;
		_tmp76_ = NULL;
		_g_object_unref0 (self->priv->_query);
		self->priv->_query = _tmp80_;
		_tmp81_ = task_name;
		_tmp82_ = task;
		_tmp83_ = yatla_task_get_name (_tmp82_);
		_tmp84_ = _tmp83_;
		if (g_strcmp0 (_tmp81_, _tmp84_) != 0) {
			SQLHeavyQuery* _tmp85_ = NULL;
			YatlaTask* _tmp86_ = NULL;
			const gchar* _tmp87_ = NULL;
			const gchar* _tmp88_ = NULL;
			GValue* _tmp89_ = NULL;
			_tmp85_ = self->priv->_query;
			_tmp86_ = task;
			_tmp87_ = yatla_task_get_name (_tmp86_);
			_tmp88_ = _tmp87_;
			_tmp89_ = g_new0 (GValue, 1);
			g_value_init (_tmp89_, G_TYPE_STRING);
			g_value_set_string (_tmp89_, _tmp88_);
			sql_heavy_query_set (_tmp85_, ":new_name", _tmp89_, &_inner_error_);
			__vala_GValue_free0 (_tmp89_);
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp76_);
				_g_object_unref0 (_tmp72_);
				_g_free0 (_tmp33_);
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch11_sql_heavy_error;
				}
				_g_object_unref0 (_tmp76_);
				_g_object_unref0 (_tmp72_);
				_g_free0 (_tmp33_);
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
		}
		_tmp90_ = task_note;
		_tmp91_ = task;
		_tmp92_ = yatla_task_get_note (_tmp91_);
		_tmp93_ = _tmp92_;
		if (g_strcmp0 (_tmp90_, _tmp93_) != 0) {
			SQLHeavyQuery* _tmp94_ = NULL;
			YatlaTask* _tmp95_ = NULL;
			const gchar* _tmp96_ = NULL;
			const gchar* _tmp97_ = NULL;
			GValue* _tmp98_ = NULL;
			_tmp94_ = self->priv->_query;
			_tmp95_ = task;
			_tmp96_ = yatla_task_get_note (_tmp95_);
			_tmp97_ = _tmp96_;
			_tmp98_ = g_new0 (GValue, 1);
			g_value_init (_tmp98_, G_TYPE_STRING);
			g_value_set_string (_tmp98_, _tmp97_);
			sql_heavy_query_set (_tmp94_, ":new_note", _tmp98_, &_inner_error_);
			__vala_GValue_free0 (_tmp98_);
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp76_);
				_g_object_unref0 (_tmp72_);
				_g_free0 (_tmp33_);
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch11_sql_heavy_error;
				}
				_g_object_unref0 (_tmp76_);
				_g_object_unref0 (_tmp72_);
				_g_free0 (_tmp33_);
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
		}
		_tmp99_ = task_date;
		_tmp100_ = task;
		_tmp101_ = yatla_task_get_date (_tmp100_);
		_tmp102_ = _tmp101_;
		if (_tmp99_ != _tmp102_) {
			YatlaTask* _tmp103_ = NULL;
			GDateTime* _tmp104_ = NULL;
			GDateTime* _tmp105_ = NULL;
			_tmp103_ = task;
			_tmp104_ = yatla_task_get_date (_tmp103_);
			_tmp105_ = _tmp104_;
			if (_tmp105_ == NULL) {
				SQLHeavyQuery* _tmp106_ = NULL;
				GValue* _tmp107_ = NULL;
				_tmp106_ = self->priv->_query;
				_tmp107_ = g_new0 (GValue, 1);
				g_value_init (_tmp107_, G_TYPE_STRING);
				g_value_set_string (_tmp107_, "");
				sql_heavy_query_set (_tmp106_, ":new_date", _tmp107_, &_inner_error_);
				__vala_GValue_free0 (_tmp107_);
				if (_inner_error_ != NULL) {
					_g_object_unref0 (_tmp76_);
					_g_object_unref0 (_tmp72_);
					_g_free0 (_tmp33_);
					_g_free0 (_tmp21_);
					_g_date_time_unref0 (task_date);
					_g_free0 (task_note);
					_g_free0 (task_name);
					_g_object_unref0 (results);
					_g_object_unref0 (_tmp5_);
					_g_free0 (sql_command);
					if (_inner_error_->domain == SQL_HEAVY_ERROR) {
						goto __catch11_sql_heavy_error;
					}
					_g_object_unref0 (_tmp76_);
					_g_object_unref0 (_tmp72_);
					_g_free0 (_tmp33_);
					_g_free0 (_tmp21_);
					_g_date_time_unref0 (task_date);
					_g_free0 (task_note);
					_g_free0 (task_name);
					_g_object_unref0 (results);
					_g_object_unref0 (_tmp5_);
					_g_free0 (sql_command);
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
					g_clear_error (&_inner_error_);
					return FALSE;
				}
			} else {
				SQLHeavyQuery* _tmp108_ = NULL;
				YatlaTask* _tmp109_ = NULL;
				GDateTime* _tmp110_ = NULL;
				GDateTime* _tmp111_ = NULL;
				gchar* _tmp112_ = NULL;
				GValue* _tmp113_ = NULL;
				_tmp108_ = self->priv->_query;
				_tmp109_ = task;
				_tmp110_ = yatla_task_get_date (_tmp109_);
				_tmp111_ = _tmp110_;
				_tmp112_ = g_date_time_to_string (_tmp111_);
				_tmp113_ = g_new0 (GValue, 1);
				g_value_init (_tmp113_, G_TYPE_STRING);
				g_value_take_string (_tmp113_, _tmp112_);
				sql_heavy_query_set (_tmp108_, ":new_date", _tmp113_, &_inner_error_);
				__vala_GValue_free0 (_tmp113_);
				if (_inner_error_ != NULL) {
					_g_object_unref0 (_tmp76_);
					_g_object_unref0 (_tmp72_);
					_g_free0 (_tmp33_);
					_g_free0 (_tmp21_);
					_g_date_time_unref0 (task_date);
					_g_free0 (task_note);
					_g_free0 (task_name);
					_g_object_unref0 (results);
					_g_object_unref0 (_tmp5_);
					_g_free0 (sql_command);
					if (_inner_error_->domain == SQL_HEAVY_ERROR) {
						goto __catch11_sql_heavy_error;
					}
					_g_object_unref0 (_tmp76_);
					_g_object_unref0 (_tmp72_);
					_g_free0 (_tmp33_);
					_g_free0 (_tmp21_);
					_g_date_time_unref0 (task_date);
					_g_free0 (task_note);
					_g_free0 (task_name);
					_g_object_unref0 (results);
					_g_object_unref0 (_tmp5_);
					_g_free0 (sql_command);
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
					g_clear_error (&_inner_error_);
					return FALSE;
				}
			}
		}
		_tmp114_ = task_is_done;
		_tmp115_ = task;
		_tmp116_ = yatla_task_get_is_done (_tmp115_);
		_tmp117_ = _tmp116_;
		if (_tmp114_ != _tmp117_) {
			SQLHeavyQuery* _tmp118_ = NULL;
			YatlaTask* _tmp119_ = NULL;
			gboolean _tmp120_ = FALSE;
			gboolean _tmp121_ = FALSE;
			gchar* _tmp122_ = NULL;
			GValue* _tmp123_ = NULL;
			_tmp118_ = self->priv->_query;
			_tmp119_ = task;
			_tmp120_ = yatla_task_get_is_done (_tmp119_);
			_tmp121_ = _tmp120_;
			_tmp122_ = bool_to_string (_tmp121_);
			_tmp123_ = g_new0 (GValue, 1);
			g_value_init (_tmp123_, G_TYPE_STRING);
			g_value_take_string (_tmp123_, _tmp122_);
			sql_heavy_query_set (_tmp118_, ":new_is_done", _tmp123_, &_inner_error_);
			__vala_GValue_free0 (_tmp123_);
			if (_inner_error_ != NULL) {
				_g_object_unref0 (_tmp76_);
				_g_object_unref0 (_tmp72_);
				_g_free0 (_tmp33_);
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				if (_inner_error_->domain == SQL_HEAVY_ERROR) {
					goto __catch11_sql_heavy_error;
				}
				_g_object_unref0 (_tmp76_);
				_g_object_unref0 (_tmp72_);
				_g_free0 (_tmp33_);
				_g_free0 (_tmp21_);
				_g_date_time_unref0 (task_date);
				_g_free0 (task_note);
				_g_free0 (task_name);
				_g_object_unref0 (results);
				_g_object_unref0 (_tmp5_);
				_g_free0 (sql_command);
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
		}
		_tmp124_ = self->priv->_query;
		_tmp125_ = task;
		_tmp126_ = yatla_task_get_id (_tmp125_);
		_tmp127_ = _tmp126_;
		_tmp128_ = g_new0 (GValue, 1);
		g_value_init (_tmp128_, G_TYPE_INT);
		g_value_set_int (_tmp128_, _tmp127_);
		sql_heavy_query_set (_tmp124_, ":id", _tmp128_, &_inner_error_);
		__vala_GValue_free0 (_tmp128_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp76_);
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (_tmp76_);
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp129_ = self->priv->_query;
		_tmp130_ = sql_heavy_query_execute (_tmp129_, NULL, &_inner_error_, NULL);
		_tmp131_ = _tmp130_;
		_g_object_unref0 (_tmp131_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp76_);
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (_tmp76_);
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		_tmp132_ = self->priv->_transaction;
		sql_heavy_transaction_commit (_tmp132_, &_inner_error_);
		if (_inner_error_ != NULL) {
			_g_object_unref0 (_tmp76_);
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			if (_inner_error_->domain == SQL_HEAVY_ERROR) {
				goto __catch11_sql_heavy_error;
			}
			_g_object_unref0 (_tmp76_);
			_g_object_unref0 (_tmp72_);
			_g_free0 (_tmp33_);
			_g_free0 (_tmp21_);
			_g_date_time_unref0 (task_date);
			_g_free0 (task_note);
			_g_free0 (task_name);
			_g_object_unref0 (results);
			_g_object_unref0 (_tmp5_);
			_g_free0 (sql_command);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return FALSE;
		}
		result = TRUE;
		_g_object_unref0 (_tmp76_);
		_g_object_unref0 (_tmp72_);
		_g_free0 (_tmp33_);
		_g_free0 (_tmp21_);
		_g_date_time_unref0 (task_date);
		_g_free0 (task_note);
		_g_free0 (task_name);
		_g_object_unref0 (results);
		_g_object_unref0 (_tmp5_);
		_g_free0 (sql_command);
		return result;
	}
	goto __finally11;
	__catch11_sql_heavy_error:
	{
		GError* e = NULL;
		FILE* _tmp133_ = NULL;
		FILE* _tmp134_ = NULL;
		GError* _tmp135_ = NULL;
		const gchar* _tmp136_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp133_ = stdout;
		fprintf (_tmp133_, "Error updating the task");
		_tmp134_ = stdout;
		_tmp135_ = e;
		_tmp136_ = _tmp135_->message;
		fprintf (_tmp134_, "Error : %s\n", _tmp136_);
		result = FALSE;
		_g_error_free0 (e);
		return result;
	}
	__finally11:
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
	g_clear_error (&_inner_error_);
	return FALSE;
}


gboolean yatla_database_remove_task (YatlaDatabase* self, YatlaTask* task, const gchar* list_name) {
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (task != NULL, FALSE);
	g_return_val_if_fail (list_name != NULL, FALSE);
	result = TRUE;
	return result;
}


/**
 * @brief   gets location of the database
 * @return  location of the database
 */
gchar* yatla_database_get_location (void) {
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	_tmp0_ = g_get_user_data_dir ();
	_tmp1_ = g_strconcat (_tmp0_, "/yatla/yatla.db", NULL);
	result = _tmp1_;
	return result;
}


static void yatla_database_class_init (YatlaDatabaseClass * klass) {
	yatla_database_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (YatlaDatabasePrivate));
	G_OBJECT_CLASS (klass)->finalize = yatla_database_finalize;
}


static void yatla_database_instance_init (YatlaDatabase * self) {
	self->priv = YATLA_DATABASE_GET_PRIVATE (self);
}


static void yatla_database_finalize (GObject* obj) {
	YatlaDatabase * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, YATLA_TYPE_DATABASE, YatlaDatabase);
	_g_object_unref0 (self->priv->_database);
	_g_object_unref0 (self->priv->_transaction);
	_g_object_unref0 (self->priv->_query);
	_g_free0 (self->priv->_location);
	G_OBJECT_CLASS (yatla_database_parent_class)->finalize (obj);
}


GType yatla_database_get_type (void) {
	static volatile gsize yatla_database_type_id__volatile = 0;
	if (g_once_init_enter (&yatla_database_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (YatlaDatabaseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) yatla_database_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (YatlaDatabase), 0, (GInstanceInitFunc) yatla_database_instance_init, NULL };
		GType yatla_database_type_id;
		yatla_database_type_id = g_type_register_static (G_TYPE_OBJECT, "YatlaDatabase", &g_define_type_info, 0);
		g_once_init_leave (&yatla_database_type_id__volatile, yatla_database_type_id);
	}
	return yatla_database_type_id__volatile;
}



