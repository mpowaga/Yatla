/* Yatla.c generated by valac 0.24.0, the Vala compiler
 * generated from Yatla.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <granite.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <gee.h>
#include <stdio.h>


#define YATLA_TYPE_APP (yatla_app_get_type ())
#define YATLA_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_APP, YatlaApp))
#define YATLA_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_APP, YatlaAppClass))
#define YATLA_IS_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_APP))
#define YATLA_IS_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_APP))
#define YATLA_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_APP, YatlaAppClass))

typedef struct _YatlaApp YatlaApp;
typedef struct _YatlaAppClass YatlaAppClass;
typedef struct _YatlaAppPrivate YatlaAppPrivate;

#define YATLA_TYPE_MAIN_WINDOW (yatla_main_window_get_type ())
#define YATLA_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_MAIN_WINDOW, YatlaMainWindow))
#define YATLA_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_MAIN_WINDOW, YatlaMainWindowClass))
#define YATLA_IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_MAIN_WINDOW))
#define YATLA_IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_MAIN_WINDOW))
#define YATLA_MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_MAIN_WINDOW, YatlaMainWindowClass))

typedef struct _YatlaMainWindow YatlaMainWindow;
typedef struct _YatlaMainWindowClass YatlaMainWindowClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _YatlaMainWindowPrivate YatlaMainWindowPrivate;

#define YATLA_TYPE_TOOLBAR (yatla_toolbar_get_type ())
#define YATLA_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_TOOLBAR, YatlaToolbar))
#define YATLA_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_TOOLBAR, YatlaToolbarClass))
#define YATLA_IS_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_TOOLBAR))
#define YATLA_IS_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_TOOLBAR))
#define YATLA_TOOLBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_TOOLBAR, YatlaToolbarClass))

typedef struct _YatlaToolbar YatlaToolbar;
typedef struct _YatlaToolbarClass YatlaToolbarClass;

#define YATLA_TYPE_DATABASE (yatla_database_get_type ())
#define YATLA_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_DATABASE, YatlaDatabase))
#define YATLA_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_DATABASE, YatlaDatabaseClass))
#define YATLA_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_DATABASE))
#define YATLA_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_DATABASE))
#define YATLA_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_DATABASE, YatlaDatabaseClass))

typedef struct _YatlaDatabase YatlaDatabase;
typedef struct _YatlaDatabaseClass YatlaDatabaseClass;

#define YATLA_TYPE_SIDEBAR (yatla_sidebar_get_type ())
#define YATLA_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_SIDEBAR, YatlaSidebar))
#define YATLA_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_SIDEBAR, YatlaSidebarClass))
#define YATLA_IS_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_SIDEBAR))
#define YATLA_IS_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_SIDEBAR))
#define YATLA_SIDEBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_SIDEBAR, YatlaSidebarClass))

typedef struct _YatlaSidebar YatlaSidebar;
typedef struct _YatlaSidebarClass YatlaSidebarClass;

#define YATLA_TYPE_LAYOUT (yatla_layout_get_type ())
#define YATLA_LAYOUT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_LAYOUT, YatlaLayout))
#define YATLA_LAYOUT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_LAYOUT, YatlaLayoutClass))
#define YATLA_IS_LAYOUT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_LAYOUT))
#define YATLA_IS_LAYOUT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_LAYOUT))
#define YATLA_LAYOUT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_LAYOUT, YatlaLayoutClass))

typedef struct _YatlaLayout YatlaLayout;
typedef struct _YatlaLayoutClass YatlaLayoutClass;
typedef struct _YatlaLayoutPrivate YatlaLayoutPrivate;

#define YATLA_TYPE_TASK (yatla_task_get_type ())
#define YATLA_TASK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_TASK, YatlaTask))
#define YATLA_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_TASK, YatlaTaskClass))
#define YATLA_IS_TASK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_TASK))
#define YATLA_IS_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_TASK))
#define YATLA_TASK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_TASK, YatlaTaskClass))

typedef struct _YatlaTask YatlaTask;
typedef struct _YatlaTaskClass YatlaTaskClass;

#define YATLA_TYPE_LIST (yatla_list_get_type ())
#define YATLA_LIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_LIST, YatlaList))
#define YATLA_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_LIST, YatlaListClass))
#define YATLA_IS_LIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_LIST))
#define YATLA_IS_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_LIST))
#define YATLA_LIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_LIST, YatlaListClass))

typedef struct _YatlaList YatlaList;
typedef struct _YatlaListClass YatlaListClass;
typedef struct _YatlaSidebarPrivate YatlaSidebarPrivate;
typedef struct _YatlaToolbarPrivate YatlaToolbarPrivate;
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
typedef struct _Block1Data Block1Data;
typedef struct _Block2Data Block2Data;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _Block3Data Block3Data;

#define YATLA_TYPE_PREFERENCES (yatla_preferences_get_type ())
#define YATLA_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_PREFERENCES, YatlaPreferences))
#define YATLA_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_PREFERENCES, YatlaPreferencesClass))
#define YATLA_IS_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_PREFERENCES))
#define YATLA_IS_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_PREFERENCES))
#define YATLA_PREFERENCES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_PREFERENCES, YatlaPreferencesClass))

typedef struct _YatlaPreferences YatlaPreferences;
typedef struct _YatlaPreferencesClass YatlaPreferencesClass;

struct _YatlaApp {
	GraniteApplication parent_instance;
	YatlaAppPrivate * priv;
	YatlaMainWindow* window;
};

struct _YatlaAppClass {
	GraniteApplicationClass parent_class;
};

struct _YatlaMainWindow {
	GtkWindow parent_instance;
	YatlaMainWindowPrivate * priv;
	YatlaApp* _app;
	GraniteWidgetsWelcome* _welcome;
	GtkBox* _main_box;
	YatlaToolbar* _toolbar;
	GraniteWidgetsThinPaned* _pane;
	YatlaDatabase* _database;
	YatlaSidebar* _sidebar;
	YatlaLayout* _layout;
};

struct _YatlaMainWindowClass {
	GtkWindowClass parent_class;
};

struct _YatlaLayout {
	GtkLayout parent_instance;
	YatlaLayoutPrivate * priv;
	GtkLabel* _list_name;
	GtkBox* _top_box1;
	GtkBox* _top_box2;
	GtkBox* _tasks_box;
	YatlaDatabase* _database;
	gchar* _name;
	GtkEntry* new_task_entry;
	GeeTreeMap* tasks;
};

struct _YatlaLayoutClass {
	GtkLayoutClass parent_class;
};

struct _YatlaSidebar {
	GraniteWidgetsSourceList parent_instance;
	YatlaSidebarPrivate * priv;
	GList* sidebar_list;
};

struct _YatlaSidebarClass {
	GraniteWidgetsSourceListClass parent_class;
};

struct _YatlaToolbar {
	GtkHeaderBar parent_instance;
	YatlaToolbarPrivate * priv;
	GtkMenu* menu;
	GtkToolButton* add_new_list_button;
	GtkSearchEntry* search;
	GtkToolItem* search_item;
	GtkCheckMenuItem* fullscreen_mode;
	GtkMenuItem* import_database;
	GtkMenuItem* preferences;
};

struct _YatlaToolbarClass {
	GtkHeaderBarClass parent_class;
};

struct _Block1Data {
	int _ref_count_;
	YatlaMainWindow* self;
	GraniteWidgetsSourceListItem* item;
};

struct _Block2Data {
	int _ref_count_;
	YatlaMainWindow* self;
	GtkPopover* popover;
	GtkEntry* list_name_entry;
	GtkButton* create_button;
};

struct _Block3Data {
	int _ref_count_;
	YatlaMainWindow* self;
	GtkDialog* dialog;
};


static gpointer yatla_app_parent_class = NULL;
static gpointer yatla_main_window_parent_class = NULL;

GType yatla_app_get_type (void) G_GNUC_CONST;
GType yatla_main_window_get_type (void) G_GNUC_CONST;
enum  {
	YATLA_APP_DUMMY_PROPERTY
};
static void yatla_app_real_activate (GApplication* base);
YatlaMainWindow* yatla_main_window_new (YatlaApp* app);
YatlaMainWindow* yatla_main_window_construct (GType object_type, YatlaApp* app);
void yatla_app_main (gchar** args, int args_length1);
YatlaApp* yatla_app_new (void);
YatlaApp* yatla_app_construct (GType object_type);
static GObject * yatla_app_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static void yatla_app_finalize (GObject* obj);
GType yatla_toolbar_get_type (void) G_GNUC_CONST;
GType yatla_database_get_type (void) G_GNUC_CONST;
GType yatla_sidebar_get_type (void) G_GNUC_CONST;
GType yatla_layout_get_type (void) G_GNUC_CONST;
enum  {
	YATLA_MAIN_WINDOW_DUMMY_PROPERTY
};
#define YATLA_MAIN_WINDOW_PANE_POSITION 150
YatlaDatabase* yatla_database_new (void);
YatlaDatabase* yatla_database_construct (GType object_type);
gboolean yatla_database_is_created (YatlaDatabase* self);
void yatla_database_create (YatlaDatabase* self);
static void yatla_main_window_setup_ui (YatlaMainWindow* self);
static void __lambda22_ (YatlaMainWindow* self);
GType yatla_task_get_type (void) G_GNUC_CONST;
static void ___lambda22__gtk_container_check_resize (GtkContainer* _sender, gpointer self);
static void __lambda23_ (YatlaMainWindow* self);
void yatla_layout_clear_layout (YatlaLayout* self, YatlaDatabase* database, YatlaSidebar* sidebar);
GType yatla_list_get_type (void) G_GNUC_CONST;
void yatla_database_backup (YatlaDatabase* self, GList* sidebar_list);
static void ___lambda23__gtk_widget_destroy (GtkWidget* _sender, gpointer self);
YatlaToolbar* yatla_toolbar_new (void);
YatlaToolbar* yatla_toolbar_construct (GType object_type);
static void __lambda12_ (YatlaMainWindow* self);
static void yatla_main_window_action_new_list (YatlaMainWindow* self);
static void ___lambda12__gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
static void __lambda16_ (YatlaMainWindow* self);
static void yatla_main_window_action_fullscreen (YatlaMainWindow* self, gboolean active);
static void ___lambda16__gtk_check_menu_item_toggled (GtkCheckMenuItem* _sender, gpointer self);
static void __lambda17_ (YatlaMainWindow* self);
static void yatla_main_window_action_import_lists (YatlaMainWindow* self);
static void ___lambda17__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda19_ (YatlaMainWindow* self);
static void yatla_main_window_action_preferences (YatlaMainWindow* self);
static void ___lambda19__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
YatlaSidebar* yatla_sidebar_new (void);
YatlaSidebar* yatla_sidebar_construct (GType object_type);
static void yatla_main_window_list_selected (YatlaMainWindow* self, GraniteWidgetsSourceListItem* item);
static void _yatla_main_window_list_selected_granite_widgets_source_list_item_selected (GraniteWidgetsSourceList* _sender, GraniteWidgetsSourceListItem* item, gpointer self);
YatlaLayout* yatla_layout_new (YatlaDatabase* database);
YatlaLayout* yatla_layout_construct (GType object_type, YatlaDatabase* database);
gboolean yatla_database_is_empty (YatlaDatabase* self);
static void ___lambda21_ (YatlaMainWindow* self, gint i);
static void ____lambda21__granite_widgets_welcome_activated (GraniteWidgetsWelcome* _sender, gint index, gpointer self);
GList* yatla_database_load_data (YatlaDatabase* self);
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
void yatla_sidebar_add_list (YatlaSidebar* self, YatlaList* list);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
gboolean yatla_layout_load_layout (YatlaLayout* self, YatlaSidebar* sidebar, const gchar* list_name);
static void __lambda20_ (Block1Data* _data1_, const gchar* i);
const gchar* yatla_list_get_name (YatlaList* self);
gboolean yatla_database_rename_list (YatlaDatabase* self, YatlaList* list, const gchar* new_name);
void yatla_list_set_name (YatlaList* self, const gchar* value);
void yatla_layout_rename_list (YatlaLayout* self, const gchar* list_name);
static void ___lambda20__granite_widgets_source_list_item_edited (GraniteWidgetsSourceListItem* _sender, const gchar* new_name, gpointer self);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static void __lambda13_ (Block2Data* _data2_);
static void ___lambda13__gtk_editable_changed (GtkEditable* _sender, gpointer self);
static void __lambda14_ (Block2Data* _data2_);
YatlaList* yatla_list_new (const gchar* name);
YatlaList* yatla_list_construct (GType object_type, const gchar* name);
gboolean yatla_database_add_list (YatlaDatabase* self, YatlaList* list);
static void ___lambda14__gtk_button_clicked (GtkButton* _sender, gpointer self);
static void __lambda15_ (Block2Data* _data2_);
static void ___lambda15__gtk_button_clicked (GtkButton* _sender, gpointer self);
gchar* yatla_database_get_location (void);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static void ____lambda18_ (Block3Data* _data3_);
static void _____lambda18__gtk_dialog_response (GtkDialog* _sender, gint response_id, gpointer self);
GType yatla_preferences_get_type (void) G_GNUC_CONST;
YatlaPreferences* yatla_preferences_new (void);
YatlaPreferences* yatla_preferences_construct (GType object_type);
static void yatla_main_window_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


static void yatla_app_real_activate (GApplication* base) {
	YatlaApp * self;
	GList* _tmp0_ = NULL;
	self = (YatlaApp*) base;
	_tmp0_ = gtk_application_get_windows ((GtkApplication*) self);
	if (_tmp0_ == NULL) {
		YatlaMainWindow* _tmp1_ = NULL;
		YatlaMainWindow* _tmp2_ = NULL;
		_tmp1_ = yatla_main_window_new (self);
		g_object_ref_sink (_tmp1_);
		_g_object_unref0 (self->window);
		self->window = _tmp1_;
		gtk_settings_get_default ();
		_tmp2_ = self->window;
		gtk_widget_show_all ((GtkWidget*) _tmp2_);
	} else {
		YatlaMainWindow* _tmp3_ = NULL;
		_tmp3_ = self->window;
		gtk_window_present ((GtkWindow*) _tmp3_);
	}
}


void yatla_app_main (gchar** args, int args_length1) {
	YatlaApp* app = NULL;
	YatlaApp* _tmp0_ = NULL;
	gchar** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	_tmp0_ = yatla_app_new ();
	app = _tmp0_;
	_tmp1_ = args;
	_tmp1__length1 = args_length1;
	granite_application_run ((GraniteApplication*) app, _tmp1_, _tmp1__length1);
	_g_object_unref0 (app);
}


int main (int argc, char ** argv) {
#if !GLIB_CHECK_VERSION (2,32,0)
	g_thread_init (NULL);
#endif
#if !GLIB_CHECK_VERSION (2,35,0)
	g_type_init ();
#endif
	yatla_app_main (argv, argc);
	return 0;
}


YatlaApp* yatla_app_construct (GType object_type) {
	YatlaApp * self = NULL;
	self = (YatlaApp*) granite_application_construct (object_type);
	return self;
}


YatlaApp* yatla_app_new (void) {
	return yatla_app_construct (YATLA_TYPE_APP);
}


static GObject * yatla_app_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	YatlaApp * self;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	gchar** _tmp10_ = NULL;
	gchar* _tmp11_ = NULL;
	gchar** _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	gchar** _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	parent_class = G_OBJECT_CLASS (yatla_app_parent_class);
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, YATLA_TYPE_APP, YatlaApp);
	_tmp0_ = g_strdup ("Yatla");
	_g_free0 (((GraniteApplication*) self)->program_name);
	((GraniteApplication*) self)->program_name = _tmp0_;
	_tmp1_ = g_strdup ("yatla");
	_g_free0 (((GraniteApplication*) self)->exec_name);
	((GraniteApplication*) self)->exec_name = _tmp1_;
	_tmp2_ = g_strdup ("2014");
	_g_free0 (((GraniteApplication*) self)->app_years);
	((GraniteApplication*) self)->app_years = _tmp2_;
	_tmp3_ = g_strdup ("myapp");
	_g_free0 (((GraniteApplication*) self)->app_icon);
	((GraniteApplication*) self)->app_icon = _tmp3_;
	_tmp4_ = g_strdup ("myapp.desktop");
	_g_free0 (((GraniteApplication*) self)->app_launcher);
	((GraniteApplication*) self)->app_launcher = _tmp4_;
	g_application_set_application_id ((GApplication*) self, "net.launchpad.myapp");
	_tmp5_ = g_strdup ("https://code.launchpad.net/myapp");
	_g_free0 (((GraniteApplication*) self)->main_url);
	((GraniteApplication*) self)->main_url = _tmp5_;
	_tmp6_ = g_strdup ("https://bugs.launchpad.net/myapp");
	_g_free0 (((GraniteApplication*) self)->bug_url);
	((GraniteApplication*) self)->bug_url = _tmp6_;
	_tmp7_ = g_strdup ("https://code.launchpad.net/myapp");
	_g_free0 (((GraniteApplication*) self)->help_url);
	((GraniteApplication*) self)->help_url = _tmp7_;
	_tmp8_ = g_strdup ("https://translations.launchpad.net/myapp");
	_g_free0 (((GraniteApplication*) self)->translate_url);
	((GraniteApplication*) self)->translate_url = _tmp8_;
	_tmp9_ = g_strdup ("Denis Grebennicov <denisgrebennicov@gmail.com>");
	_tmp10_ = g_new0 (gchar*, 1 + 1);
	_tmp10_[0] = _tmp9_;
	((GraniteApplication*) self)->about_authors = (_vala_array_free (((GraniteApplication*) self)->about_authors, ((GraniteApplication*) self)->about_authors_length1, (GDestroyNotify) g_free), NULL);
	((GraniteApplication*) self)->about_authors = _tmp10_;
	((GraniteApplication*) self)->about_authors_length1 = 1;
	_tmp11_ = g_strdup ("me");
	_tmp12_ = g_new0 (gchar*, 1 + 1);
	_tmp12_[0] = _tmp11_;
	((GraniteApplication*) self)->about_documenters = (_vala_array_free (((GraniteApplication*) self)->about_documenters, ((GraniteApplication*) self)->about_documenters_length1, (GDestroyNotify) g_free), NULL);
	((GraniteApplication*) self)->about_documenters = _tmp12_;
	((GraniteApplication*) self)->about_documenters_length1 = 1;
	_tmp13_ = g_strdup ("me");
	_tmp14_ = g_new0 (gchar*, 1 + 1);
	_tmp14_[0] = _tmp13_;
	((GraniteApplication*) self)->about_artists = (_vala_array_free (((GraniteApplication*) self)->about_artists, ((GraniteApplication*) self)->about_artists_length1, (GDestroyNotify) g_free), NULL);
	((GraniteApplication*) self)->about_artists = _tmp14_;
	((GraniteApplication*) self)->about_artists_length1 = 1;
	_tmp15_ = g_strdup ("comment");
	_g_free0 (((GraniteApplication*) self)->about_comments);
	((GraniteApplication*) self)->about_comments = _tmp15_;
	_g_free0 (((GraniteApplication*) self)->about_translators);
	((GraniteApplication*) self)->about_translators = NULL;
	((GraniteApplication*) self)->about_license_type = GTK_LICENSE_GPL_3_0;
	return obj;
}


static void yatla_app_class_init (YatlaAppClass * klass) {
	yatla_app_parent_class = g_type_class_peek_parent (klass);
	G_APPLICATION_CLASS (klass)->activate = yatla_app_real_activate;
	G_OBJECT_CLASS (klass)->constructor = yatla_app_constructor;
	G_OBJECT_CLASS (klass)->finalize = yatla_app_finalize;
}


static void yatla_app_instance_init (YatlaApp * self) {
}


static void yatla_app_finalize (GObject* obj) {
	YatlaApp * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, YATLA_TYPE_APP, YatlaApp);
	_g_object_unref0 (self->window);
	G_OBJECT_CLASS (yatla_app_parent_class)->finalize (obj);
}


GType yatla_app_get_type (void) {
	static volatile gsize yatla_app_type_id__volatile = 0;
	if (g_once_init_enter (&yatla_app_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (YatlaAppClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) yatla_app_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (YatlaApp), 0, (GInstanceInitFunc) yatla_app_instance_init, NULL };
		GType yatla_app_type_id;
		yatla_app_type_id = g_type_register_static (GRANITE_TYPE_APPLICATION, "YatlaApp", &g_define_type_info, 0);
		g_once_init_leave (&yatla_app_type_id__volatile, yatla_app_type_id);
	}
	return yatla_app_type_id__volatile;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void __lambda22_ (YatlaMainWindow* self) {
	gint x = 0;
	gint y = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	YatlaLayout* _tmp2_ = NULL;
	GtkEntry* _tmp3_ = NULL;
	GraniteWidgetsThinPaned* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	gtk_window_get_size ((GtkWindow*) self, &_tmp0_, &_tmp1_);
	x = _tmp0_;
	y = _tmp1_;
	_tmp2_ = self->_layout;
	_tmp3_ = _tmp2_->new_task_entry;
	_tmp4_ = self->_pane;
	_tmp5_ = gtk_paned_get_position ((GtkPaned*) _tmp4_);
	_tmp6_ = _tmp5_;
	g_object_set ((GtkWidget*) _tmp3_, "width-request", ((x - _tmp6_) - 165) - (2 * 20), NULL);
}


static void ___lambda22__gtk_container_check_resize (GtkContainer* _sender, gpointer self) {
	__lambda22_ ((YatlaMainWindow*) self);
}


static void __lambda23_ (YatlaMainWindow* self) {
	YatlaLayout* _tmp0_ = NULL;
	YatlaDatabase* _tmp1_ = NULL;
	YatlaSidebar* _tmp2_ = NULL;
	YatlaDatabase* _tmp3_ = NULL;
	YatlaSidebar* _tmp4_ = NULL;
	GList* _tmp5_ = NULL;
	_tmp0_ = self->_layout;
	_tmp1_ = self->_database;
	_tmp2_ = self->_sidebar;
	yatla_layout_clear_layout (_tmp0_, _tmp1_, _tmp2_);
	_tmp3_ = self->_database;
	_tmp4_ = self->_sidebar;
	_tmp5_ = _tmp4_->sidebar_list;
	yatla_database_backup (_tmp3_, _tmp5_);
}


static void ___lambda23__gtk_widget_destroy (GtkWidget* _sender, gpointer self) {
	__lambda23_ ((YatlaMainWindow*) self);
}


YatlaMainWindow* yatla_main_window_construct (GType object_type, YatlaApp* app) {
	YatlaMainWindow * self = NULL;
	YatlaApp* _tmp0_ = NULL;
	YatlaApp* _tmp1_ = NULL;
	YatlaApp* _tmp2_ = NULL;
	YatlaDatabase* _tmp3_ = NULL;
	YatlaDatabase* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	g_return_val_if_fail (app != NULL, NULL);
	self = (YatlaMainWindow*) g_object_new (object_type, NULL);
	_tmp0_ = app;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (self->_app);
	self->_app = _tmp1_;
	_tmp2_ = app;
	gtk_window_set_application ((GtkWindow*) self, (GtkApplication*) _tmp2_);
	gtk_widget_set_size_request ((GtkWidget*) self, 1000, 640);
	g_object_set ((GtkWindow*) self, "window-position", GTK_WIN_POS_CENTER, NULL);
	_tmp3_ = yatla_database_new ();
	_g_object_unref0 (self->_database);
	self->_database = _tmp3_;
	_tmp4_ = self->_database;
	_tmp5_ = yatla_database_is_created (_tmp4_);
	if (!_tmp5_) {
		YatlaDatabase* _tmp6_ = NULL;
		_tmp6_ = self->_database;
		yatla_database_create (_tmp6_);
	}
	yatla_main_window_setup_ui (self);
	g_signal_connect_object ((GtkContainer*) self, "check-resize", (GCallback) ___lambda22__gtk_container_check_resize, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "destroy", (GCallback) ___lambda23__gtk_widget_destroy, self, 0);
	return self;
}


YatlaMainWindow* yatla_main_window_new (YatlaApp* app) {
	return yatla_main_window_construct (YATLA_TYPE_MAIN_WINDOW, app);
}


/**
         * @brief setting the ui
         */
static void __lambda12_ (YatlaMainWindow* self) {
	yatla_main_window_action_new_list (self);
}


static void ___lambda12__gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
	__lambda12_ ((YatlaMainWindow*) self);
}


static void __lambda16_ (YatlaMainWindow* self) {
	YatlaToolbar* _tmp0_ = NULL;
	GtkCheckMenuItem* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	_tmp0_ = self->_toolbar;
	_tmp1_ = _tmp0_->fullscreen_mode;
	_tmp2_ = gtk_check_menu_item_get_active (_tmp1_);
	yatla_main_window_action_fullscreen (self, _tmp2_);
}


static void ___lambda16__gtk_check_menu_item_toggled (GtkCheckMenuItem* _sender, gpointer self) {
	__lambda16_ ((YatlaMainWindow*) self);
}


static void __lambda17_ (YatlaMainWindow* self) {
	yatla_main_window_action_import_lists (self);
}


static void ___lambda17__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda17_ ((YatlaMainWindow*) self);
}


static void __lambda19_ (YatlaMainWindow* self) {
	yatla_main_window_action_preferences (self);
}


static void ___lambda19__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda19_ ((YatlaMainWindow*) self);
}


static void _yatla_main_window_list_selected_granite_widgets_source_list_item_selected (GraniteWidgetsSourceList* _sender, GraniteWidgetsSourceListItem* item, gpointer self) {
	yatla_main_window_list_selected ((YatlaMainWindow*) self, item);
}


static void ___lambda21_ (YatlaMainWindow* self, gint i) {
	gint _tmp0_ = 0;
	_tmp0_ = i;
	switch (_tmp0_) {
		case 0:
		{
			yatla_main_window_action_new_list (self);
			break;
		}
		case 1:
		{
			yatla_main_window_action_import_lists (self);
			break;
		}
		default:
		break;
	}
}


static void ____lambda21__granite_widgets_welcome_activated (GraniteWidgetsWelcome* _sender, gint index, gpointer self) {
	___lambda21_ ((YatlaMainWindow*) self, index);
}


static void _g_object_unref0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}


static void _g_list_free__g_object_unref0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
	g_list_free (self);
}


static void yatla_main_window_setup_ui (YatlaMainWindow* self) {
	GtkBox* _tmp0_ = NULL;
	YatlaToolbar* _tmp1_ = NULL;
	GraniteWidgetsAppMenu* app_menu = NULL;
	YatlaApp* _tmp2_ = NULL;
	YatlaToolbar* _tmp3_ = NULL;
	GtkMenu* _tmp4_ = NULL;
	GraniteWidgetsAppMenu* _tmp5_ = NULL;
	YatlaToolbar* _tmp6_ = NULL;
	GraniteWidgetsAppMenu* _tmp7_ = NULL;
	YatlaToolbar* _tmp8_ = NULL;
	YatlaToolbar* _tmp9_ = NULL;
	GtkToolItem* _tmp10_ = NULL;
	YatlaToolbar* _tmp11_ = NULL;
	YatlaToolbar* _tmp12_ = NULL;
	GtkToolButton* _tmp13_ = NULL;
	YatlaToolbar* _tmp14_ = NULL;
	GtkCheckMenuItem* _tmp15_ = NULL;
	YatlaToolbar* _tmp16_ = NULL;
	GtkMenuItem* _tmp17_ = NULL;
	YatlaToolbar* _tmp18_ = NULL;
	GtkMenuItem* _tmp19_ = NULL;
	GraniteWidgetsThinPaned* _tmp20_ = NULL;
	GraniteWidgetsThinPaned* _tmp21_ = NULL;
	YatlaSidebar* _tmp22_ = NULL;
	YatlaSidebar* _tmp23_ = NULL;
	GtkScrolledWindow* scrolledWindow = NULL;
	GtkScrolledWindow* _tmp24_ = NULL;
	YatlaDatabase* _tmp25_ = NULL;
	YatlaLayout* _tmp26_ = NULL;
	GtkScrolledWindow* _tmp27_ = NULL;
	YatlaLayout* _tmp28_ = NULL;
	GraniteWidgetsThinPaned* _tmp29_ = NULL;
	GtkScrolledWindow* _tmp30_ = NULL;
	YatlaDatabase* _tmp31_ = NULL;
	gboolean _tmp32_ = FALSE;
	GtkBox* _tmp50_ = NULL;
	GraniteWidgetsThinPaned* _tmp51_ = NULL;
	GtkBox* _tmp52_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->_main_box);
	self->_main_box = _tmp0_;
	_tmp1_ = yatla_toolbar_new ();
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->_toolbar);
	self->_toolbar = _tmp1_;
	_tmp2_ = self->_app;
	_tmp3_ = self->_toolbar;
	_tmp4_ = _tmp3_->menu;
	_tmp5_ = granite_application_create_appmenu ((GraniteApplication*) _tmp2_, _tmp4_);
	app_menu = _tmp5_;
	_tmp6_ = self->_toolbar;
	_tmp7_ = app_menu;
	gtk_header_bar_pack_end ((GtkHeaderBar*) _tmp6_, (GtkWidget*) _tmp7_);
	_tmp8_ = self->_toolbar;
	_tmp9_ = self->_toolbar;
	_tmp10_ = _tmp9_->search_item;
	gtk_header_bar_pack_end ((GtkHeaderBar*) _tmp8_, (GtkWidget*) _tmp10_);
	_tmp11_ = self->_toolbar;
	gtk_window_set_titlebar ((GtkWindow*) self, (GtkWidget*) _tmp11_);
	_tmp12_ = self->_toolbar;
	_tmp13_ = _tmp12_->add_new_list_button;
	g_signal_connect_object (_tmp13_, "clicked", (GCallback) ___lambda12__gtk_tool_button_clicked, self, 0);
	_tmp14_ = self->_toolbar;
	_tmp15_ = _tmp14_->fullscreen_mode;
	g_signal_connect_object (_tmp15_, "toggled", (GCallback) ___lambda16__gtk_check_menu_item_toggled, self, 0);
	_tmp16_ = self->_toolbar;
	_tmp17_ = _tmp16_->import_database;
	g_signal_connect_object (_tmp17_, "activate", (GCallback) ___lambda17__gtk_menu_item_activate, self, 0);
	_tmp18_ = self->_toolbar;
	_tmp19_ = _tmp18_->preferences;
	g_signal_connect_object (_tmp19_, "activate", (GCallback) ___lambda19__gtk_menu_item_activate, self, 0);
	_tmp20_ = granite_widgets_thin_paned_new (GTK_ORIENTATION_HORIZONTAL);
	g_object_ref_sink (_tmp20_);
	_g_object_unref0 (self->_pane);
	self->_pane = _tmp20_;
	_tmp21_ = self->_pane;
	g_object_set ((GtkWidget*) _tmp21_, "expand", TRUE, NULL);
	_tmp22_ = yatla_sidebar_new ();
	g_object_ref_sink (_tmp22_);
	_g_object_unref0 (self->_sidebar);
	self->_sidebar = _tmp22_;
	_tmp23_ = self->_sidebar;
	g_signal_connect_object ((GraniteWidgetsSourceList*) _tmp23_, "item-selected", (GCallback) _yatla_main_window_list_selected_granite_widgets_source_list_item_selected, self, 0);
	_tmp24_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	g_object_ref_sink (_tmp24_);
	scrolledWindow = _tmp24_;
	_tmp25_ = self->_database;
	_tmp26_ = yatla_layout_new (_tmp25_);
	g_object_ref_sink (_tmp26_);
	_g_object_unref0 (self->_layout);
	self->_layout = _tmp26_;
	_tmp27_ = scrolledWindow;
	_tmp28_ = self->_layout;
	gtk_container_add ((GtkContainer*) _tmp27_, (GtkWidget*) _tmp28_);
	_tmp29_ = self->_pane;
	_tmp30_ = scrolledWindow;
	gtk_paned_pack2 ((GtkPaned*) _tmp29_, (GtkWidget*) _tmp30_, TRUE, TRUE);
	_tmp31_ = self->_database;
	_tmp32_ = yatla_database_is_empty (_tmp31_);
	if (_tmp32_) {
		GraniteWidgetsWelcome* _tmp33_ = NULL;
		GraniteWidgetsWelcome* _tmp34_ = NULL;
		GraniteWidgetsWelcome* _tmp35_ = NULL;
		GraniteWidgetsThinPaned* _tmp36_ = NULL;
		GraniteWidgetsWelcome* _tmp37_ = NULL;
		GraniteWidgetsWelcome* _tmp38_ = NULL;
		_tmp33_ = granite_widgets_welcome_new ("No lists created", "Create a list, to add tasks");
		g_object_ref_sink (_tmp33_);
		_g_object_unref0 (self->_welcome);
		self->_welcome = _tmp33_;
		_tmp34_ = self->_welcome;
		granite_widgets_welcome_append (_tmp34_, "document", "Create", "Make a new to-do list");
		_tmp35_ = self->_welcome;
		granite_widgets_welcome_append (_tmp35_, "document-import", "Import", "Add lists from your hard drive");
		_tmp36_ = self->_pane;
		_tmp37_ = self->_welcome;
		gtk_paned_pack1 ((GtkPaned*) _tmp36_, (GtkWidget*) _tmp37_, TRUE, TRUE);
		_tmp38_ = self->_welcome;
		g_signal_connect_object (_tmp38_, "activated", (GCallback) ____lambda21__granite_widgets_welcome_activated, self, 0);
	} else {
		YatlaSidebar* _tmp39_ = NULL;
		YatlaDatabase* _tmp40_ = NULL;
		GList* _tmp41_ = NULL;
		YatlaSidebar* _tmp42_ = NULL;
		GList* _tmp43_ = NULL;
		GraniteWidgetsThinPaned* _tmp47_ = NULL;
		YatlaSidebar* _tmp48_ = NULL;
		GraniteWidgetsThinPaned* _tmp49_ = NULL;
		_tmp39_ = self->_sidebar;
		_tmp40_ = self->_database;
		_tmp41_ = yatla_database_load_data (_tmp40_);
		__g_list_free__g_object_unref0_0 (_tmp39_->sidebar_list);
		_tmp39_->sidebar_list = _tmp41_;
		_tmp42_ = self->_sidebar;
		_tmp43_ = _tmp42_->sidebar_list;
		{
			GList* list_collection = NULL;
			GList* list_it = NULL;
			list_collection = _tmp43_;
			for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
				YatlaList* _tmp44_ = NULL;
				YatlaList* list = NULL;
				_tmp44_ = _g_object_ref0 ((YatlaList*) list_it->data);
				list = _tmp44_;
				{
					YatlaSidebar* _tmp45_ = NULL;
					YatlaList* _tmp46_ = NULL;
					_tmp45_ = self->_sidebar;
					_tmp46_ = list;
					yatla_sidebar_add_list (_tmp45_, _tmp46_);
					_g_object_unref0 (list);
				}
			}
		}
		_tmp47_ = self->_pane;
		_tmp48_ = self->_sidebar;
		gtk_paned_pack1 ((GtkPaned*) _tmp47_, (GtkWidget*) _tmp48_, TRUE, FALSE);
		_tmp49_ = self->_pane;
		gtk_paned_set_position ((GtkPaned*) _tmp49_, YATLA_MAIN_WINDOW_PANE_POSITION);
	}
	_tmp50_ = self->_main_box;
	_tmp51_ = self->_pane;
	gtk_box_pack_start (_tmp50_, (GtkWidget*) _tmp51_, TRUE, TRUE, (guint) 0);
	_tmp52_ = self->_main_box;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp52_);
	_g_object_unref0 (scrolledWindow);
	_g_object_unref0 (app_menu);
}


/**
         * @brief list from the sidebar is selected
         * 
         * @param item : list from the sidebar 
         *               which is selected
         */
static Block1Data* block1_data_ref (Block1Data* _data1_) {
	g_atomic_int_inc (&_data1_->_ref_count_);
	return _data1_;
}


static void block1_data_unref (void * _userdata_) {
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
		YatlaMainWindow* self;
		self = _data1_->self;
		_g_object_unref0 (_data1_->item);
		_g_object_unref0 (self);
		g_slice_free (Block1Data, _data1_);
	}
}


static void __lambda20_ (Block1Data* _data1_, const gchar* i) {
	YatlaMainWindow* self;
	gint index = 0;
	YatlaSidebar* _tmp0_ = NULL;
	GList* _tmp1_ = NULL;
	YatlaDatabase* _tmp10_ = NULL;
	YatlaSidebar* _tmp11_ = NULL;
	GList* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	gconstpointer _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	gboolean _tmp16_ = FALSE;
	self = _data1_->self;
	g_return_if_fail (i != NULL);
	index = 0;
	_tmp0_ = self->_sidebar;
	_tmp1_ = _tmp0_->sidebar_list;
	{
		GList* list_collection = NULL;
		GList* list_it = NULL;
		list_collection = _tmp1_;
		for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
			YatlaList* _tmp2_ = NULL;
			YatlaList* list = NULL;
			_tmp2_ = _g_object_ref0 ((YatlaList*) list_it->data);
			list = _tmp2_;
			{
				YatlaList* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				const gchar* _tmp5_ = NULL;
				GraniteWidgetsSourceListItem* _tmp6_ = NULL;
				const gchar* _tmp7_ = NULL;
				const gchar* _tmp8_ = NULL;
				gint _tmp9_ = 0;
				_tmp3_ = list;
				_tmp4_ = yatla_list_get_name (_tmp3_);
				_tmp5_ = _tmp4_;
				_tmp6_ = _data1_->item;
				_tmp7_ = granite_widgets_source_list_item_get_name (_tmp6_);
				_tmp8_ = _tmp7_;
				if (g_strcmp0 (_tmp5_, _tmp8_) == 0) {
					_g_object_unref0 (list);
					break;
				}
				_tmp9_ = index;
				index = _tmp9_ + 1;
				_g_object_unref0 (list);
			}
		}
	}
	_tmp10_ = self->_database;
	_tmp11_ = self->_sidebar;
	_tmp12_ = _tmp11_->sidebar_list;
	_tmp13_ = index;
	_tmp14_ = g_list_nth_data (_tmp12_, (guint) _tmp13_);
	_tmp15_ = i;
	_tmp16_ = yatla_database_rename_list (_tmp10_, (YatlaList*) _tmp14_, _tmp15_);
	if (_tmp16_) {
		YatlaSidebar* _tmp17_ = NULL;
		GList* _tmp18_ = NULL;
		gint _tmp19_ = 0;
		gconstpointer _tmp20_ = NULL;
		const gchar* _tmp21_ = NULL;
		YatlaLayout* _tmp22_ = NULL;
		const gchar* _tmp23_ = NULL;
		_tmp17_ = self->_sidebar;
		_tmp18_ = _tmp17_->sidebar_list;
		_tmp19_ = index;
		_tmp20_ = g_list_nth_data (_tmp18_, (guint) _tmp19_);
		_tmp21_ = i;
		yatla_list_set_name ((YatlaList*) _tmp20_, _tmp21_);
		_tmp22_ = self->_layout;
		_tmp23_ = i;
		yatla_layout_rename_list (_tmp22_, _tmp23_);
	}
}


static void ___lambda20__granite_widgets_source_list_item_edited (GraniteWidgetsSourceListItem* _sender, const gchar* new_name, gpointer self) {
	__lambda20_ (self, new_name);
}


static void yatla_main_window_list_selected (YatlaMainWindow* self, GraniteWidgetsSourceListItem* item) {
	Block1Data* _data1_;
	GraniteWidgetsSourceListItem* _tmp0_ = NULL;
	GraniteWidgetsSourceListItem* _tmp1_ = NULL;
	YatlaLayout* _tmp2_ = NULL;
	YatlaDatabase* _tmp3_ = NULL;
	YatlaSidebar* _tmp4_ = NULL;
	YatlaLayout* _tmp5_ = NULL;
	YatlaSidebar* _tmp6_ = NULL;
	GraniteWidgetsSourceListItem* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	GraniteWidgetsSourceListItem* _tmp10_ = NULL;
	g_return_if_fail (self != NULL);
	_data1_ = g_slice_new0 (Block1Data);
	_data1_->_ref_count_ = 1;
	_data1_->self = g_object_ref (self);
	_tmp0_ = item;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (_data1_->item);
	_data1_->item = _tmp1_;
	_tmp2_ = self->_layout;
	_tmp3_ = self->_database;
	_tmp4_ = self->_sidebar;
	yatla_layout_clear_layout (_tmp2_, _tmp3_, _tmp4_);
	_tmp5_ = self->_layout;
	_tmp6_ = self->_sidebar;
	_tmp7_ = _data1_->item;
	_tmp8_ = granite_widgets_source_list_item_get_name (_tmp7_);
	_tmp9_ = _tmp8_;
	yatla_layout_load_layout (_tmp5_, _tmp6_, _tmp9_);
	_tmp10_ = _data1_->item;
	g_signal_connect_data (_tmp10_, "edited", (GCallback) ___lambda20__granite_widgets_source_list_item_edited, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
	block1_data_unref (_data1_);
	_data1_ = NULL;
}


/**
         * @brief add new list button
         *        on the toolbar is pressed
         */
static Block2Data* block2_data_ref (Block2Data* _data2_) {
	g_atomic_int_inc (&_data2_->_ref_count_);
	return _data2_;
}


static void block2_data_unref (void * _userdata_) {
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
		YatlaMainWindow* self;
		self = _data2_->self;
		_g_object_unref0 (_data2_->create_button);
		_g_object_unref0 (_data2_->list_name_entry);
		_g_object_unref0 (_data2_->popover);
		_g_object_unref0 (self);
		g_slice_free (Block2Data, _data2_);
	}
}


static void __lambda13_ (Block2Data* _data2_) {
	YatlaMainWindow* self;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	self = _data2_->self;
	_tmp0_ = gtk_entry_get_text (_data2_->list_name_entry);
	_tmp1_ = _tmp0_;
	gtk_widget_set_sensitive ((GtkWidget*) _data2_->create_button, g_strcmp0 (_tmp1_, "") != 0);
}


static void ___lambda13__gtk_editable_changed (GtkEditable* _sender, gpointer self) {
	__lambda13_ (self);
}


static void __lambda14_ (Block2Data* _data2_) {
	YatlaMainWindow* self;
	YatlaList* list = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	YatlaList* _tmp2_ = NULL;
	YatlaDatabase* _tmp3_ = NULL;
	YatlaList* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	self = _data2_->self;
	_tmp0_ = gtk_entry_get_text (_data2_->list_name_entry);
	_tmp1_ = _tmp0_;
	_tmp2_ = yatla_list_new (_tmp1_);
	list = _tmp2_;
	_tmp3_ = self->_database;
	_tmp4_ = list;
	_tmp5_ = yatla_database_add_list (_tmp3_, _tmp4_);
	if (_tmp5_) {
		YatlaSidebar* _tmp6_ = NULL;
		YatlaList* _tmp7_ = NULL;
		YatlaList* _tmp8_ = NULL;
		YatlaSidebar* _tmp9_ = NULL;
		YatlaList* _tmp10_ = NULL;
		GraniteWidgetsThinPaned* _tmp11_ = NULL;
		GtkWidget* _tmp12_ = NULL;
		YatlaSidebar* _tmp13_ = NULL;
		_tmp6_ = self->_sidebar;
		_tmp7_ = list;
		_tmp8_ = _g_object_ref0 (_tmp7_);
		_tmp6_->sidebar_list = g_list_append (_tmp6_->sidebar_list, _tmp8_);
		_tmp9_ = self->_sidebar;
		_tmp10_ = list;
		yatla_sidebar_add_list (_tmp9_, _tmp10_);
		_tmp11_ = self->_pane;
		_tmp12_ = gtk_paned_get_child1 ((GtkPaned*) _tmp11_);
		_tmp13_ = self->_sidebar;
		if (_tmp12_ != G_TYPE_CHECK_INSTANCE_CAST (_tmp13_, GTK_TYPE_WIDGET, GtkWidget)) {
			GraniteWidgetsThinPaned* _tmp14_ = NULL;
			GraniteWidgetsThinPaned* _tmp15_ = NULL;
			GtkWidget* _tmp16_ = NULL;
			GraniteWidgetsThinPaned* _tmp17_ = NULL;
			YatlaSidebar* _tmp18_ = NULL;
			GraniteWidgetsThinPaned* _tmp19_ = NULL;
			gint _tmp20_ = 0;
			_tmp14_ = self->_pane;
			_tmp15_ = self->_pane;
			_tmp16_ = gtk_paned_get_child1 ((GtkPaned*) _tmp15_);
			gtk_container_remove ((GtkContainer*) _tmp14_, _tmp16_);
			_tmp17_ = self->_pane;
			_tmp18_ = self->_sidebar;
			gtk_paned_pack1 ((GtkPaned*) _tmp17_, (GtkWidget*) _tmp18_, TRUE, FALSE);
			_tmp19_ = self->_pane;
			_tmp20_ = gtk_paned_get_position ((GtkPaned*) _tmp19_);
			if (_tmp20_ != YATLA_MAIN_WINDOW_PANE_POSITION) {
				GraniteWidgetsThinPaned* _tmp21_ = NULL;
				_tmp21_ = self->_pane;
				gtk_paned_set_position ((GtkPaned*) _tmp21_, YATLA_MAIN_WINDOW_PANE_POSITION);
			}
		}
	}
	gtk_widget_destroy ((GtkWidget*) _data2_->popover);
	_g_object_unref0 (list);
}


static void ___lambda14__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda14_ (self);
}


static void __lambda15_ (Block2Data* _data2_) {
	YatlaMainWindow* self;
	self = _data2_->self;
	gtk_widget_destroy ((GtkWidget*) _data2_->popover);
}


static void ___lambda15__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda15_ (self);
}


static void yatla_main_window_action_new_list (YatlaMainWindow* self) {
	Block2Data* _data2_;
	YatlaToolbar* _tmp0_ = NULL;
	GtkToolButton* _tmp1_ = NULL;
	GtkPopover* _tmp2_ = NULL;
	GtkGrid* grid = NULL;
	GtkGrid* _tmp3_ = NULL;
	GtkBox* box = NULL;
	GtkBox* _tmp4_ = NULL;
	GtkEntry* _tmp5_ = NULL;
	GtkLabel* label = NULL;
	GtkLabel* _tmp6_ = NULL;
	GtkButtonBox* buttonBox = NULL;
	GtkButtonBox* _tmp7_ = NULL;
	GtkButton* _tmp8_ = NULL;
	GtkButton* close_button = NULL;
	GtkButton* _tmp9_ = NULL;
	g_return_if_fail (self != NULL);
	_data2_ = g_slice_new0 (Block2Data);
	_data2_->_ref_count_ = 1;
	_data2_->self = g_object_ref (self);
	_tmp0_ = self->_toolbar;
	_tmp1_ = _tmp0_->add_new_list_button;
	_tmp2_ = (GtkPopover*) gtk_popover_new ((GtkWidget*) _tmp1_);
	g_object_ref_sink (_tmp2_);
	_data2_->popover = _tmp2_;
	_tmp3_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp3_);
	grid = _tmp3_;
	gtk_widget_set_margin_top ((GtkWidget*) grid, 10);
	gtk_widget_set_margin_bottom ((GtkWidget*) grid, 10);
	gtk_widget_set_margin_left ((GtkWidget*) grid, 10);
	gtk_widget_set_margin_right ((GtkWidget*) grid, 10);
	_tmp4_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 20);
	g_object_ref_sink (_tmp4_);
	box = _tmp4_;
	_tmp5_ = (GtkEntry*) gtk_entry_new ();
	g_object_ref_sink (_tmp5_);
	_data2_->list_name_entry = _tmp5_;
	_tmp6_ = (GtkLabel*) gtk_label_new ("Create you list");
	g_object_ref_sink (_tmp6_);
	label = _tmp6_;
	gtk_box_set_spacing (box, 20);
	gtk_box_pack_start (box, (GtkWidget*) label, TRUE, TRUE, (guint) 0);
	gtk_box_pack_start (box, (GtkWidget*) _data2_->list_name_entry, TRUE, TRUE, (guint) 0);
	gtk_grid_attach (grid, (GtkWidget*) box, 0, 0, 1, 1);
	_tmp7_ = (GtkButtonBox*) gtk_button_box_new (GTK_ORIENTATION_HORIZONTAL);
	g_object_ref_sink (_tmp7_);
	buttonBox = _tmp7_;
	_tmp8_ = (GtkButton*) gtk_button_new_with_label ("Create");
	g_object_ref_sink (_tmp8_);
	_data2_->create_button = _tmp8_;
	_tmp9_ = (GtkButton*) gtk_button_new_with_label ("Cancel");
	g_object_ref_sink (_tmp9_);
	close_button = _tmp9_;
	gtk_widget_set_sensitive ((GtkWidget*) _data2_->create_button, FALSE);
	gtk_button_box_set_layout (buttonBox, GTK_BUTTONBOX_CENTER);
	gtk_box_set_spacing ((GtkBox*) buttonBox, 20);
	gtk_box_pack_start ((GtkBox*) buttonBox, (GtkWidget*) close_button, TRUE, TRUE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) buttonBox, (GtkWidget*) _data2_->create_button, TRUE, TRUE, (guint) 0);
	gtk_grid_attach (grid, (GtkWidget*) buttonBox, 0, 1, 1, 1);
	gtk_grid_set_row_spacing (grid, (guint) 7);
	gtk_container_add ((GtkContainer*) _data2_->popover, (GtkWidget*) grid);
	gtk_widget_set_visible ((GtkWidget*) _data2_->popover, TRUE);
	gtk_widget_show_all ((GtkWidget*) _data2_->popover);
	g_signal_connect_data ((GtkEditable*) _data2_->list_name_entry, "changed", (GCallback) ___lambda13__gtk_editable_changed, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
	g_signal_connect_data (_data2_->create_button, "clicked", (GCallback) ___lambda14__gtk_button_clicked, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
	g_signal_connect_data (close_button, "clicked", (GCallback) ___lambda15__gtk_button_clicked, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
	_g_object_unref0 (close_button);
	_g_object_unref0 (buttonBox);
	_g_object_unref0 (label);
	_g_object_unref0 (box);
	_g_object_unref0 (grid);
	block2_data_unref (_data2_);
	_data2_ = NULL;
}


/**
         * @brief   import the database button
         *          was pressed
         */
static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	_tmp0_ = str;
	_tmp1_ = maxlen;
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
	end = _tmp2_;
	_tmp3_ = end;
	if (_tmp3_ == NULL) {
		glong _tmp4_ = 0L;
		_tmp4_ = maxlen;
		result = _tmp4_;
		return result;
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
		_tmp5_ = end;
		_tmp6_ = str;
		result = (glong) (_tmp5_ - _tmp6_);
		return result;
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp1_ = offset;
	if (_tmp1_ >= ((glong) 0)) {
		glong _tmp2_ = 0L;
		_tmp2_ = len;
		_tmp0_ = _tmp2_ >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
		_tmp3_ = offset;
		_tmp4_ = len;
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
		string_length = _tmp5_;
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
		_tmp6_ = strlen (self);
		_tmp7_ = _tmp6_;
		string_length = (glong) _tmp7_;
	}
	_tmp8_ = offset;
	if (_tmp8_ < ((glong) 0)) {
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
		_tmp9_ = string_length;
		_tmp10_ = offset;
		offset = _tmp9_ + _tmp10_;
		_tmp11_ = offset;
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
		_tmp12_ = offset;
		_tmp13_ = string_length;
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
	}
	_tmp14_ = len;
	if (_tmp14_ < ((glong) 0)) {
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
		_tmp15_ = string_length;
		_tmp16_ = offset;
		len = _tmp15_ - _tmp16_;
	}
	_tmp17_ = offset;
	_tmp18_ = len;
	_tmp19_ = string_length;
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
	_tmp20_ = offset;
	_tmp21_ = len;
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
	result = _tmp22_;
	return result;
}


static gint string_last_index_of_char (const gchar* self, gunichar c, gint start_index) {
	gint result = 0;
	gchar* _result_ = NULL;
	gint _tmp0_ = 0;
	gunichar _tmp1_ = 0U;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = start_index;
	_tmp1_ = c;
	_tmp2_ = g_utf8_strrchr (((gchar*) self) + _tmp0_, (gssize) (-1), _tmp1_);
	_result_ = _tmp2_;
	_tmp3_ = _result_;
	if (_tmp3_ != NULL) {
		gchar* _tmp4_ = NULL;
		_tmp4_ = _result_;
		result = (gint) (_tmp4_ - ((gchar*) self));
		return result;
	} else {
		result = -1;
		return result;
	}
}


static Block3Data* block3_data_ref (Block3Data* _data3_) {
	g_atomic_int_inc (&_data3_->_ref_count_);
	return _data3_;
}


static void block3_data_unref (void * _userdata_) {
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
		YatlaMainWindow* self;
		self = _data3_->self;
		_g_object_unref0 (_data3_->dialog);
		_g_object_unref0 (self);
		g_slice_free (Block3Data, _data3_);
	}
}


static void ____lambda18_ (Block3Data* _data3_) {
	YatlaMainWindow* self;
	GtkDialog* _tmp0_ = NULL;
	self = _data3_->self;
	_tmp0_ = _data3_->dialog;
	gtk_widget_destroy ((GtkWidget*) _tmp0_);
}


static void _____lambda18__gtk_dialog_response (GtkDialog* _sender, gint response_id, gpointer self) {
	____lambda18_ (self);
}


static void yatla_main_window_action_import_lists (YatlaMainWindow* self) {
	GtkFileChooserDialog* chooser = NULL;
	GtkFileChooserDialog* _tmp0_ = NULL;
	GtkFileFilter* filter_db = NULL;
	GtkFileFilter* _tmp1_ = NULL;
	GtkFileFilter* _tmp2_ = NULL;
	GtkFileFilter* _tmp3_ = NULL;
	GtkFileChooserDialog* _tmp4_ = NULL;
	GtkFileFilter* _tmp5_ = NULL;
	GtkFileFilter* _tmp6_ = NULL;
	GtkFileFilter* filter_all = NULL;
	GtkFileFilter* _tmp7_ = NULL;
	GtkFileFilter* _tmp8_ = NULL;
	GtkFileFilter* _tmp9_ = NULL;
	GtkFileChooserDialog* _tmp10_ = NULL;
	GtkFileFilter* _tmp11_ = NULL;
	GtkFileFilter* _tmp12_ = NULL;
	GtkFileChooserDialog* _tmp13_ = NULL;
	gint _tmp14_ = 0;
	GtkFileChooserDialog* _tmp98_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new ("Open File", (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_OPEN, "Cancel", GTK_RESPONSE_CANCEL, "Open", GTK_RESPONSE_ACCEPT, NULL);
	g_object_ref_sink (_tmp0_);
	chooser = _tmp0_;
	_tmp1_ = gtk_file_filter_new ();
	g_object_ref_sink (_tmp1_);
	filter_db = _tmp1_;
	_tmp2_ = filter_db;
	gtk_file_filter_set_name (_tmp2_, "Database");
	_tmp3_ = filter_db;
	gtk_file_filter_add_pattern (_tmp3_, "*.db");
	_tmp4_ = chooser;
	_tmp5_ = filter_db;
	_tmp6_ = _g_object_ref0 (_tmp5_);
	gtk_file_chooser_add_filter ((GtkFileChooser*) _tmp4_, _tmp6_);
	_tmp7_ = gtk_file_filter_new ();
	g_object_ref_sink (_tmp7_);
	filter_all = _tmp7_;
	_tmp8_ = filter_all;
	gtk_file_filter_set_name (_tmp8_, "All files");
	_tmp9_ = filter_all;
	gtk_file_filter_add_pattern (_tmp9_, "*");
	_tmp10_ = chooser;
	_tmp11_ = filter_all;
	_tmp12_ = _g_object_ref0 (_tmp11_);
	gtk_file_chooser_add_filter ((GtkFileChooser*) _tmp10_, _tmp12_);
	_tmp13_ = chooser;
	_tmp14_ = gtk_dialog_run ((GtkDialog*) _tmp13_);
	if (_tmp14_ == ((gint) GTK_RESPONSE_ACCEPT)) {
		gchar* uri = NULL;
		GtkFileChooserDialog* _tmp15_ = NULL;
		gchar* _tmp16_ = NULL;
		const gchar* _tmp17_ = NULL;
		const gchar* _tmp18_ = NULL;
		gint _tmp19_ = 0;
		gchar* _tmp20_ = NULL;
		gchar* _tmp21_ = NULL;
		gboolean _tmp22_ = FALSE;
		_tmp15_ = chooser;
		_tmp16_ = gtk_file_chooser_get_uri ((GtkFileChooser*) _tmp15_);
		uri = _tmp16_;
		_tmp17_ = uri;
		_tmp18_ = uri;
		_tmp19_ = string_last_index_of_char (_tmp18_, (gunichar) '.', 0);
		_tmp20_ = string_substring (_tmp17_, (glong) (_tmp19_ + 1), (glong) (-1));
		_tmp21_ = _tmp20_;
		_tmp22_ = g_strcmp0 (_tmp21_, "db") == 0;
		_g_free0 (_tmp21_);
		if (_tmp22_) {
			{
				GFile* file = NULL;
				const gchar* _tmp23_ = NULL;
				GFile* _tmp24_ = NULL;
				GFile* destination = NULL;
				gchar* _tmp25_ = NULL;
				gchar* _tmp26_ = NULL;
				GFile* _tmp27_ = NULL;
				GFile* _tmp28_ = NULL;
				gchar* name_of_the_file = NULL;
				GFile* _tmp29_ = NULL;
				gchar* _tmp30_ = NULL;
				gchar* _tmp31_ = NULL;
				GFile* _tmp32_ = NULL;
				gchar* _tmp33_ = NULL;
				gchar* _tmp34_ = NULL;
				gint _tmp35_ = 0;
				gchar* _tmp36_ = NULL;
				gchar* _tmp37_ = NULL;
				const gchar* _tmp38_ = NULL;
				GFile* _tmp43_ = NULL;
				GFile* _tmp44_ = NULL;
				YatlaDatabase* _tmp45_ = NULL;
				YatlaSidebar* _tmp46_ = NULL;
				GraniteWidgetsSourceListExpandableItem* _tmp47_ = NULL;
				GraniteWidgetsSourceListExpandableItem* _tmp48_ = NULL;
				YatlaSidebar* _tmp49_ = NULL;
				YatlaDatabase* _tmp50_ = NULL;
				GList* _tmp51_ = NULL;
				YatlaSidebar* _tmp52_ = NULL;
				GList* _tmp53_ = NULL;
				gboolean _tmp57_ = FALSE;
				GraniteWidgetsThinPaned* _tmp58_ = NULL;
				GtkWidget* _tmp59_ = NULL;
				YatlaSidebar* _tmp60_ = NULL;
				YatlaLayout* _tmp72_ = NULL;
				YatlaLayout* _tmp73_ = NULL;
				GtkBox* _tmp74_ = NULL;
				YatlaLayout* _tmp75_ = NULL;
				YatlaLayout* _tmp76_ = NULL;
				GtkBox* _tmp77_ = NULL;
				YatlaLayout* _tmp78_ = NULL;
				YatlaLayout* _tmp79_ = NULL;
				GtkBox* _tmp80_ = NULL;
				_tmp23_ = uri;
				_tmp24_ = g_file_new_for_uri (_tmp23_);
				file = _tmp24_;
				_tmp25_ = yatla_database_get_location ();
				_tmp26_ = _tmp25_;
				_tmp27_ = g_file_new_for_path (_tmp26_);
				_tmp28_ = _tmp27_;
				_g_free0 (_tmp26_);
				destination = _tmp28_;
				_tmp29_ = file;
				_tmp30_ = g_file_get_parse_name (_tmp29_);
				_tmp31_ = _tmp30_;
				_tmp32_ = file;
				_tmp33_ = g_file_get_parse_name (_tmp32_);
				_tmp34_ = _tmp33_;
				_tmp35_ = string_last_index_of_char (_tmp34_, (gunichar) '/', 0);
				_tmp36_ = string_substring (_tmp31_, (glong) (_tmp35_ + 1), (glong) (-1));
				_tmp37_ = _tmp36_;
				_g_free0 (_tmp34_);
				_g_free0 (_tmp31_);
				name_of_the_file = _tmp37_;
				_tmp38_ = name_of_the_file;
				if (g_strcmp0 (_tmp38_, "yatla.db") != 0) {
					GFile* _tmp39_ = NULL;
					GFile* _tmp40_ = NULL;
					GFile* _tmp41_ = NULL;
					GFile* _tmp42_ = NULL;
					_tmp40_ = file;
					_tmp41_ = g_file_set_display_name (_tmp40_, "yatla.db", NULL, &_inner_error_);
					_tmp39_ = _tmp41_;
					if (_inner_error_ != NULL) {
						_g_free0 (name_of_the_file);
						_g_object_unref0 (destination);
						_g_object_unref0 (file);
						goto __catch0_g_error;
					}
					_tmp42_ = _tmp39_;
					_tmp39_ = NULL;
					_g_object_unref0 (file);
					file = _tmp42_;
					_g_object_unref0 (_tmp39_);
				}
				_tmp43_ = file;
				_tmp44_ = destination;
				g_file_copy (_tmp43_, _tmp44_, G_FILE_COPY_OVERWRITE, NULL, NULL, NULL, &_inner_error_);
				if (_inner_error_ != NULL) {
					_g_free0 (name_of_the_file);
					_g_object_unref0 (destination);
					_g_object_unref0 (file);
					goto __catch0_g_error;
				}
				_tmp45_ = yatla_database_new ();
				_g_object_unref0 (self->_database);
				self->_database = _tmp45_;
				_tmp46_ = self->_sidebar;
				_tmp47_ = granite_widgets_source_list_get_root ((GraniteWidgetsSourceList*) _tmp46_);
				_tmp48_ = _tmp47_;
				granite_widgets_source_list_expandable_item_clear (_tmp48_);
				_tmp49_ = self->_sidebar;
				_tmp50_ = self->_database;
				_tmp51_ = yatla_database_load_data (_tmp50_);
				__g_list_free__g_object_unref0_0 (_tmp49_->sidebar_list);
				_tmp49_->sidebar_list = _tmp51_;
				_tmp52_ = self->_sidebar;
				_tmp53_ = _tmp52_->sidebar_list;
				{
					GList* list_collection = NULL;
					GList* list_it = NULL;
					list_collection = _tmp53_;
					for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
						YatlaList* _tmp54_ = NULL;
						YatlaList* list = NULL;
						_tmp54_ = _g_object_ref0 ((YatlaList*) list_it->data);
						list = _tmp54_;
						{
							YatlaSidebar* _tmp55_ = NULL;
							YatlaList* _tmp56_ = NULL;
							_tmp55_ = self->_sidebar;
							_tmp56_ = list;
							yatla_sidebar_add_list (_tmp55_, _tmp56_);
							_g_object_unref0 (list);
						}
					}
				}
				_tmp58_ = self->_pane;
				_tmp59_ = gtk_paned_get_child1 ((GtkPaned*) _tmp58_);
				_tmp60_ = self->_sidebar;
				if (_tmp59_ != G_TYPE_CHECK_INSTANCE_CAST (_tmp60_, GTK_TYPE_WIDGET, GtkWidget)) {
					YatlaSidebar* _tmp61_ = NULL;
					GList* _tmp62_ = NULL;
					guint _tmp63_ = 0U;
					_tmp61_ = self->_sidebar;
					_tmp62_ = _tmp61_->sidebar_list;
					_tmp63_ = g_list_length (_tmp62_);
					_tmp57_ = _tmp63_ != ((guint) 0);
				} else {
					_tmp57_ = FALSE;
				}
				if (_tmp57_) {
					GraniteWidgetsThinPaned* _tmp64_ = NULL;
					GraniteWidgetsThinPaned* _tmp65_ = NULL;
					GtkWidget* _tmp66_ = NULL;
					GraniteWidgetsThinPaned* _tmp67_ = NULL;
					YatlaSidebar* _tmp68_ = NULL;
					GraniteWidgetsThinPaned* _tmp69_ = NULL;
					gint _tmp70_ = 0;
					_tmp64_ = self->_pane;
					_tmp65_ = self->_pane;
					_tmp66_ = gtk_paned_get_child1 ((GtkPaned*) _tmp65_);
					gtk_container_remove ((GtkContainer*) _tmp64_, _tmp66_);
					_tmp67_ = self->_pane;
					_tmp68_ = self->_sidebar;
					gtk_paned_pack1 ((GtkPaned*) _tmp67_, (GtkWidget*) _tmp68_, FALSE, FALSE);
					_tmp69_ = self->_pane;
					_tmp70_ = gtk_paned_get_position ((GtkPaned*) _tmp69_);
					if (_tmp70_ != YATLA_MAIN_WINDOW_PANE_POSITION) {
						GraniteWidgetsThinPaned* _tmp71_ = NULL;
						_tmp71_ = self->_pane;
						gtk_paned_set_position ((GtkPaned*) _tmp71_, YATLA_MAIN_WINDOW_PANE_POSITION);
					}
				}
				_tmp72_ = self->_layout;
				_tmp73_ = self->_layout;
				_tmp74_ = _tmp73_->_top_box1;
				gtk_container_remove ((GtkContainer*) _tmp72_, (GtkWidget*) _tmp74_);
				_tmp75_ = self->_layout;
				_tmp76_ = self->_layout;
				_tmp77_ = _tmp76_->_top_box2;
				gtk_container_remove ((GtkContainer*) _tmp75_, (GtkWidget*) _tmp77_);
				_tmp78_ = self->_layout;
				_tmp79_ = self->_layout;
				_tmp80_ = _tmp79_->_tasks_box;
				gtk_container_remove ((GtkContainer*) _tmp78_, (GtkWidget*) _tmp80_);
				_g_free0 (name_of_the_file);
				_g_object_unref0 (destination);
				_g_object_unref0 (file);
			}
			goto __finally0;
			__catch0_g_error:
			{
				GError* e = NULL;
				const gchar* _tmp81_ = NULL;
				e = _inner_error_;
				_inner_error_ = NULL;
				_tmp81_ = e->message;
				g_error ("Yatla.vala:335: Error: %s", _tmp81_);
				_g_error_free0 (e);
			}
			__finally0:
			if (_inner_error_ != NULL) {
				_g_free0 (uri);
				_g_object_unref0 (filter_all);
				_g_object_unref0 (filter_db);
				_g_object_unref0 (chooser);
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
		} else {
			Block3Data* _data3_;
			GtkDialog* _tmp82_ = NULL;
			GtkLabel* label = NULL;
			GtkLabel* _tmp83_ = NULL;
			GtkDialog* _tmp84_ = NULL;
			GtkDialog* _tmp85_ = NULL;
			GtkDialog* _tmp86_ = NULL;
			GtkBox* _tmp87_ = NULL;
			GtkLabel* _tmp88_ = NULL;
			GtkDialog* _tmp89_ = NULL;
			GtkDialog* _tmp90_ = NULL;
			GtkWidget* _tmp91_ = NULL;
			GtkDialog* _tmp92_ = NULL;
			GtkBox* _tmp93_ = NULL;
			GtkDialog* _tmp94_ = NULL;
			GtkBox* _tmp95_ = NULL;
			GtkDialog* _tmp96_ = NULL;
			GtkDialog* _tmp97_ = NULL;
			_data3_ = g_slice_new0 (Block3Data);
			_data3_->_ref_count_ = 1;
			_data3_->self = g_object_ref (self);
			_tmp82_ = (GtkDialog*) gtk_dialog_new ();
			g_object_ref_sink (_tmp82_);
			_data3_->dialog = _tmp82_;
			_tmp83_ = (GtkLabel*) gtk_label_new ("The file is not a database");
			g_object_ref_sink (_tmp83_);
			label = _tmp83_;
			_tmp84_ = _data3_->dialog;
			gtk_window_set_title ((GtkWindow*) _tmp84_, "Warning");
			_tmp85_ = _data3_->dialog;
			gtk_window_set_resizable ((GtkWindow*) _tmp85_, FALSE);
			_tmp86_ = _data3_->dialog;
			_tmp87_ = (GtkBox*) gtk_dialog_get_content_area (_tmp86_);
			_tmp88_ = label;
			gtk_container_add ((GtkContainer*) _tmp87_, (GtkWidget*) _tmp88_);
			_tmp89_ = _data3_->dialog;
			gtk_dialog_add_button (_tmp89_, "OK", (gint) GTK_RESPONSE_OK);
			_tmp90_ = _data3_->dialog;
			_tmp91_ = gtk_dialog_get_action_area (_tmp90_);
			gtk_widget_set_margin_right (_tmp91_, 19);
			_tmp92_ = _data3_->dialog;
			_tmp93_ = (GtkBox*) gtk_dialog_get_content_area (_tmp92_);
			gtk_widget_set_margin_left ((GtkWidget*) _tmp93_, 20);
			_tmp94_ = _data3_->dialog;
			_tmp95_ = (GtkBox*) gtk_dialog_get_content_area (_tmp94_);
			gtk_widget_set_margin_right ((GtkWidget*) _tmp95_, 20);
			_tmp96_ = _data3_->dialog;
			gtk_widget_show_all ((GtkWidget*) _tmp96_);
			_tmp97_ = _data3_->dialog;
			g_signal_connect_data (_tmp97_, "response", (GCallback) _____lambda18__gtk_dialog_response, block3_data_ref (_data3_), (GClosureNotify) block3_data_unref, 0);
			_g_object_unref0 (label);
			block3_data_unref (_data3_);
			_data3_ = NULL;
		}
		_g_free0 (uri);
	}
	_tmp98_ = chooser;
	g_signal_emit_by_name ((GtkDialog*) _tmp98_, "close");
	_g_object_unref0 (filter_all);
	_g_object_unref0 (filter_db);
	_g_object_unref0 (chooser);
}


/**
         * @brief fullscreen button is pressed
         * @param active : if fullscreen button is 
         *                 active or not
         */
static void yatla_main_window_action_fullscreen (YatlaMainWindow* self, gboolean active) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = active;
	if (_tmp0_) {
		FILE* _tmp1_ = NULL;
		_tmp1_ = stdout;
		fprintf (_tmp1_, "Fullscreen ON\n");
	} else {
		FILE* _tmp2_ = NULL;
		_tmp2_ = stdout;
		fprintf (_tmp2_, "Fullscreen OFF\n");
	}
}


/**
         * @brief preferences button is pressed
         */
static void yatla_main_window_action_preferences (YatlaMainWindow* self) {
	YatlaPreferences* preferencesDialog = NULL;
	YatlaPreferences* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = yatla_preferences_new ();
	g_object_ref_sink (_tmp0_);
	preferencesDialog = _tmp0_;
	gtk_widget_show_all ((GtkWidget*) preferencesDialog);
	_g_object_unref0 (preferencesDialog);
}


static void yatla_main_window_class_init (YatlaMainWindowClass * klass) {
	yatla_main_window_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = yatla_main_window_finalize;
}


static void yatla_main_window_instance_init (YatlaMainWindow * self) {
}


static void yatla_main_window_finalize (GObject* obj) {
	YatlaMainWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, YATLA_TYPE_MAIN_WINDOW, YatlaMainWindow);
	_g_object_unref0 (self->_app);
	_g_object_unref0 (self->_welcome);
	_g_object_unref0 (self->_main_box);
	_g_object_unref0 (self->_toolbar);
	_g_object_unref0 (self->_pane);
	_g_object_unref0 (self->_database);
	_g_object_unref0 (self->_sidebar);
	_g_object_unref0 (self->_layout);
	G_OBJECT_CLASS (yatla_main_window_parent_class)->finalize (obj);
}


GType yatla_main_window_get_type (void) {
	static volatile gsize yatla_main_window_type_id__volatile = 0;
	if (g_once_init_enter (&yatla_main_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (YatlaMainWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) yatla_main_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (YatlaMainWindow), 0, (GInstanceInitFunc) yatla_main_window_instance_init, NULL };
		GType yatla_main_window_type_id;
		yatla_main_window_type_id = g_type_register_static (GTK_TYPE_WINDOW, "YatlaMainWindow", &g_define_type_info, 0);
		g_once_init_leave (&yatla_main_window_type_id__volatile, yatla_main_window_type_id);
	}
	return yatla_main_window_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



