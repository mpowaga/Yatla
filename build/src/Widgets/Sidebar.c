/* Sidebar.c generated by valac 0.24.0, the Vala compiler
 * generated from Sidebar.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <granite.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>


#define YATLA_TYPE_SIDEBAR (yatla_sidebar_get_type ())
#define YATLA_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_SIDEBAR, YatlaSidebar))
#define YATLA_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_SIDEBAR, YatlaSidebarClass))
#define YATLA_IS_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_SIDEBAR))
#define YATLA_IS_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_SIDEBAR))
#define YATLA_SIDEBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_SIDEBAR, YatlaSidebarClass))

typedef struct _YatlaSidebar YatlaSidebar;
typedef struct _YatlaSidebarClass YatlaSidebarClass;
typedef struct _YatlaSidebarPrivate YatlaSidebarPrivate;

#define YATLA_TYPE_LIST (yatla_list_get_type ())
#define YATLA_LIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_LIST, YatlaList))
#define YATLA_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_LIST, YatlaListClass))
#define YATLA_IS_LIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_LIST))
#define YATLA_IS_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_LIST))
#define YATLA_LIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_LIST, YatlaListClass))

typedef struct _YatlaList YatlaList;
typedef struct _YatlaListClass YatlaListClass;
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define YATLA_TYPE_SIDEBAR_ITEM (yatla_sidebar_item_get_type ())
#define YATLA_SIDEBAR_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_SIDEBAR_ITEM, YatlaSidebarItem))
#define YATLA_SIDEBAR_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_SIDEBAR_ITEM, YatlaSidebarItemClass))
#define YATLA_IS_SIDEBAR_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_SIDEBAR_ITEM))
#define YATLA_IS_SIDEBAR_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_SIDEBAR_ITEM))
#define YATLA_SIDEBAR_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_SIDEBAR_ITEM, YatlaSidebarItemClass))

typedef struct _YatlaSidebarItem YatlaSidebarItem;
typedef struct _YatlaSidebarItemClass YatlaSidebarItemClass;

#define YATLA_TYPE_DATABASE (yatla_database_get_type ())
#define YATLA_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_DATABASE, YatlaDatabase))
#define YATLA_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_DATABASE, YatlaDatabaseClass))
#define YATLA_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_DATABASE))
#define YATLA_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_DATABASE))
#define YATLA_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_DATABASE, YatlaDatabaseClass))

typedef struct _YatlaDatabase YatlaDatabase;
typedef struct _YatlaDatabaseClass YatlaDatabaseClass;

#define YATLA_TYPE_TASK (yatla_task_get_type ())
#define YATLA_TASK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), YATLA_TYPE_TASK, YatlaTask))
#define YATLA_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), YATLA_TYPE_TASK, YatlaTaskClass))
#define YATLA_IS_TASK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), YATLA_TYPE_TASK))
#define YATLA_IS_TASK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), YATLA_TYPE_TASK))
#define YATLA_TASK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), YATLA_TYPE_TASK, YatlaTaskClass))

typedef struct _YatlaTask YatlaTask;
typedef struct _YatlaTaskClass YatlaTaskClass;
typedef struct _YatlaListPrivate YatlaListPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _YatlaSidebarItemPrivate YatlaSidebarItemPrivate;

struct _YatlaSidebar {
	GraniteWidgetsSourceList parent_instance;
	YatlaSidebarPrivate * priv;
	GList* sidebar_list;
};

struct _YatlaSidebarClass {
	GraniteWidgetsSourceListClass parent_class;
};

struct _YatlaList {
	GObject parent_instance;
	YatlaListPrivate * priv;
	GList* tasks;
};

struct _YatlaListClass {
	GObjectClass parent_class;
};

struct _YatlaSidebarItem {
	GraniteWidgetsSourceListItem parent_instance;
	YatlaSidebarItemPrivate * priv;
};

struct _YatlaSidebarItemClass {
	GraniteWidgetsSourceListItemClass parent_class;
};


static gpointer yatla_sidebar_parent_class = NULL;
static gpointer yatla_sidebar_item_parent_class = NULL;

GType yatla_sidebar_get_type (void) G_GNUC_CONST;
GType yatla_list_get_type (void) G_GNUC_CONST;
enum  {
	YATLA_SIDEBAR_DUMMY_PROPERTY
};
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
YatlaSidebar* yatla_sidebar_new (void);
YatlaSidebar* yatla_sidebar_construct (GType object_type);
void yatla_sidebar_add_list (YatlaSidebar* self, YatlaList* list);
GType yatla_sidebar_item_get_type (void) G_GNUC_CONST;
const gchar* yatla_list_get_name (YatlaList* self);
guint yatla_list_get_size (YatlaList* self);
YatlaSidebarItem* yatla_sidebar_item_new (const gchar* name, guint badge);
YatlaSidebarItem* yatla_sidebar_item_construct (GType object_type, const gchar* name, guint badge);
GType yatla_database_get_type (void) G_GNUC_CONST;
GType yatla_task_get_type (void) G_GNUC_CONST;
void yatla_sidebar_add_task (YatlaSidebar* self, YatlaDatabase* database, const gchar* list_name, YatlaTask* task);
gint yatla_database_get_task_id (YatlaDatabase* self, const gchar* task_name, const gchar* list_name);
const gchar* yatla_task_get_name (YatlaTask* self);
void yatla_task_set_id (YatlaTask* self, gint value);
void yatla_sidebar_update_task (YatlaSidebar* self, const gchar* list_name, YatlaTask* task_to_update);
gint yatla_task_get_id (YatlaTask* self);
void yatla_task_set_name (YatlaTask* self, const gchar* value);
const gchar* yatla_task_get_note (YatlaTask* self);
void yatla_task_set_note (YatlaTask* self, const gchar* value);
GDateTime* yatla_task_get_date (YatlaTask* self);
void yatla_task_set_date (YatlaTask* self, GDateTime* value);
gboolean yatla_task_get_is_done (YatlaTask* self);
void yatla_task_set_is_done (YatlaTask* self, gboolean value);
void yatla_sidebar_remove_task (YatlaSidebar* self, const gchar* list_name, YatlaTask* task_to_remove);
void yatla_sidebar_update_list (YatlaSidebar* self, YatlaTask** tasks, int tasks_length1, const gchar* list_name);
static void yatla_sidebar_finalize (GObject* obj);
enum  {
	YATLA_SIDEBAR_ITEM_DUMMY_PROPERTY
};


static void _g_object_unref0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}


static void _g_list_free__g_object_unref0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
	g_list_free (self);
}


YatlaSidebar* yatla_sidebar_construct (GType object_type) {
	YatlaSidebar * self = NULL;
	GraniteWidgetsSourceListExpandableItem* _tmp0_ = NULL;
	GraniteWidgetsSourceListExpandableItem* _tmp1_ = NULL;
	_tmp0_ = granite_widgets_source_list_expandable_item_new ("");
	_tmp1_ = _tmp0_;
	self = (YatlaSidebar*) granite_widgets_source_list_construct (object_type, _tmp1_);
	_g_object_unref0 (_tmp1_);
	__g_list_free__g_object_unref0_0 (self->sidebar_list);
	self->sidebar_list = NULL;
	return self;
}


YatlaSidebar* yatla_sidebar_new (void) {
	return yatla_sidebar_construct (YATLA_TYPE_SIDEBAR);
}


void yatla_sidebar_add_list (YatlaSidebar* self, YatlaList* list) {
	YatlaSidebarItem* new_list = NULL;
	YatlaList* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	YatlaList* _tmp3_ = NULL;
	guint _tmp4_ = 0U;
	guint _tmp5_ = 0U;
	YatlaSidebarItem* _tmp6_ = NULL;
	GraniteWidgetsSourceListExpandableItem* _tmp7_ = NULL;
	GraniteWidgetsSourceListExpandableItem* _tmp8_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (list != NULL);
	_tmp0_ = list;
	_tmp1_ = yatla_list_get_name (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = list;
	_tmp4_ = yatla_list_get_size (_tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = yatla_sidebar_item_new (_tmp2_, _tmp5_);
	new_list = _tmp6_;
	_tmp7_ = granite_widgets_source_list_get_root ((GraniteWidgetsSourceList*) self);
	_tmp8_ = _tmp7_;
	granite_widgets_source_list_expandable_item_add (_tmp8_, (GraniteWidgetsSourceListItem*) new_list);
	_g_object_unref0 (new_list);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void yatla_sidebar_add_task (YatlaSidebar* self, YatlaDatabase* database, const gchar* list_name, YatlaTask* task) {
	gint list_index = 0;
	GList* _tmp0_ = NULL;
	YatlaTask* _tmp7_ = NULL;
	YatlaDatabase* _tmp8_ = NULL;
	YatlaTask* _tmp9_ = NULL;
	const gchar* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	GList* _tmp14_ = NULL;
	gint _tmp15_ = 0;
	gconstpointer _tmp16_ = NULL;
	YatlaTask* _tmp17_ = NULL;
	YatlaTask* _tmp18_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (database != NULL);
	g_return_if_fail (list_name != NULL);
	g_return_if_fail (task != NULL);
	list_index = 0;
	_tmp0_ = self->sidebar_list;
	{
		GList* list_collection = NULL;
		GList* list_it = NULL;
		list_collection = _tmp0_;
		for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
			YatlaList* _tmp1_ = NULL;
			YatlaList* list = NULL;
			_tmp1_ = _g_object_ref0 ((YatlaList*) list_it->data);
			list = _tmp1_;
			{
				YatlaList* _tmp2_ = NULL;
				const gchar* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				const gchar* _tmp5_ = NULL;
				gint _tmp6_ = 0;
				_tmp2_ = list;
				_tmp3_ = yatla_list_get_name (_tmp2_);
				_tmp4_ = _tmp3_;
				_tmp5_ = list_name;
				if (g_strcmp0 (_tmp4_, _tmp5_) == 0) {
					_g_object_unref0 (list);
					break;
				}
				_tmp6_ = list_index;
				list_index = _tmp6_ + 1;
				_g_object_unref0 (list);
			}
		}
	}
	_tmp7_ = task;
	_tmp8_ = database;
	_tmp9_ = task;
	_tmp10_ = yatla_task_get_name (_tmp9_);
	_tmp11_ = _tmp10_;
	_tmp12_ = list_name;
	_tmp13_ = yatla_database_get_task_id (_tmp8_, _tmp11_, _tmp12_);
	yatla_task_set_id (_tmp7_, _tmp13_);
	_tmp14_ = self->sidebar_list;
	_tmp15_ = list_index;
	_tmp16_ = g_list_nth_data (_tmp14_, (guint) _tmp15_);
	_tmp17_ = task;
	_tmp18_ = _g_object_ref0 (_tmp17_);
	((YatlaList*) _tmp16_)->tasks = g_list_append (((YatlaList*) _tmp16_)->tasks, _tmp18_);
	{
		GeeIterator* _item_it = NULL;
		GraniteWidgetsSourceListExpandableItem* _tmp19_ = NULL;
		GraniteWidgetsSourceListExpandableItem* _tmp20_ = NULL;
		GeeCollection* _tmp21_ = NULL;
		GeeCollection* _tmp22_ = NULL;
		GeeCollection* _tmp23_ = NULL;
		GeeIterator* _tmp24_ = NULL;
		GeeIterator* _tmp25_ = NULL;
		_tmp19_ = granite_widgets_source_list_get_root ((GraniteWidgetsSourceList*) self);
		_tmp20_ = _tmp19_;
		_tmp21_ = granite_widgets_source_list_expandable_item_get_children (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp23_ = _tmp22_;
		_tmp24_ = gee_iterable_iterator ((GeeIterable*) _tmp23_);
		_tmp25_ = _tmp24_;
		_g_object_unref0 (_tmp23_);
		_item_it = _tmp25_;
		while (TRUE) {
			GeeIterator* _tmp26_ = NULL;
			gboolean _tmp27_ = FALSE;
			GraniteWidgetsSourceListItem* item = NULL;
			GeeIterator* _tmp28_ = NULL;
			gpointer _tmp29_ = NULL;
			GraniteWidgetsSourceListItem* _tmp30_ = NULL;
			const gchar* _tmp31_ = NULL;
			const gchar* _tmp32_ = NULL;
			const gchar* _tmp33_ = NULL;
			_tmp26_ = _item_it;
			_tmp27_ = gee_iterator_next (_tmp26_);
			if (!_tmp27_) {
				break;
			}
			_tmp28_ = _item_it;
			_tmp29_ = gee_iterator_get (_tmp28_);
			item = (GraniteWidgetsSourceListItem*) _tmp29_;
			_tmp30_ = item;
			_tmp31_ = granite_widgets_source_list_item_get_name (_tmp30_);
			_tmp32_ = _tmp31_;
			_tmp33_ = list_name;
			if (g_strcmp0 (_tmp32_, _tmp33_) == 0) {
				GraniteWidgetsSourceListItem* _tmp34_ = NULL;
				const gchar* _tmp35_ = NULL;
				const gchar* _tmp36_ = NULL;
				_tmp34_ = item;
				_tmp35_ = granite_widgets_source_list_item_get_badge (_tmp34_);
				_tmp36_ = _tmp35_;
				if (_tmp36_ == NULL) {
					GraniteWidgetsSourceListItem* _tmp37_ = NULL;
					_tmp37_ = item;
					granite_widgets_source_list_item_set_badge (_tmp37_, "1");
				} else {
					GraniteWidgetsSourceListItem* _tmp38_ = NULL;
					GraniteWidgetsSourceListItem* _tmp39_ = NULL;
					const gchar* _tmp40_ = NULL;
					const gchar* _tmp41_ = NULL;
					gint _tmp42_ = 0;
					gchar* _tmp43_ = NULL;
					gchar* _tmp44_ = NULL;
					_tmp38_ = item;
					_tmp39_ = item;
					_tmp40_ = granite_widgets_source_list_item_get_badge (_tmp39_);
					_tmp41_ = _tmp40_;
					_tmp42_ = atoi (_tmp41_);
					_tmp43_ = g_strdup_printf ("%i", _tmp42_ + 1);
					_tmp44_ = _tmp43_;
					granite_widgets_source_list_item_set_badge (_tmp38_, _tmp44_);
					_g_free0 (_tmp44_);
				}
			}
			_g_object_unref0 (item);
		}
		_g_object_unref0 (_item_it);
	}
}


void yatla_sidebar_update_task (YatlaSidebar* self, const gchar* list_name, YatlaTask* task_to_update) {
	gint list_index = 0;
	GList* _tmp0_ = NULL;
	GList* _tmp7_ = NULL;
	gint _tmp8_ = 0;
	gconstpointer _tmp9_ = NULL;
	GList* _tmp10_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (list_name != NULL);
	g_return_if_fail (task_to_update != NULL);
	list_index = 0;
	_tmp0_ = self->sidebar_list;
	{
		GList* list_collection = NULL;
		GList* list_it = NULL;
		list_collection = _tmp0_;
		for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
			YatlaList* _tmp1_ = NULL;
			YatlaList* list = NULL;
			_tmp1_ = _g_object_ref0 ((YatlaList*) list_it->data);
			list = _tmp1_;
			{
				YatlaList* _tmp2_ = NULL;
				const gchar* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				const gchar* _tmp5_ = NULL;
				gint _tmp6_ = 0;
				_tmp2_ = list;
				_tmp3_ = yatla_list_get_name (_tmp2_);
				_tmp4_ = _tmp3_;
				_tmp5_ = list_name;
				if (g_strcmp0 (_tmp4_, _tmp5_) == 0) {
					_g_object_unref0 (list);
					break;
				}
				_tmp6_ = list_index;
				list_index = _tmp6_ + 1;
				_g_object_unref0 (list);
			}
		}
	}
	_tmp7_ = self->sidebar_list;
	_tmp8_ = list_index;
	_tmp9_ = g_list_nth_data (_tmp7_, (guint) _tmp8_);
	_tmp10_ = ((YatlaList*) _tmp9_)->tasks;
	{
		GList* task_collection = NULL;
		GList* task_it = NULL;
		task_collection = _tmp10_;
		for (task_it = task_collection; task_it != NULL; task_it = task_it->next) {
			YatlaTask* _tmp11_ = NULL;
			YatlaTask* task = NULL;
			_tmp11_ = _g_object_ref0 ((YatlaTask*) task_it->data);
			task = _tmp11_;
			{
				YatlaTask* _tmp12_ = NULL;
				gint _tmp13_ = 0;
				gint _tmp14_ = 0;
				YatlaTask* _tmp15_ = NULL;
				gint _tmp16_ = 0;
				gint _tmp17_ = 0;
				_tmp12_ = task;
				_tmp13_ = yatla_task_get_id (_tmp12_);
				_tmp14_ = _tmp13_;
				_tmp15_ = task_to_update;
				_tmp16_ = yatla_task_get_id (_tmp15_);
				_tmp17_ = _tmp16_;
				if (_tmp14_ == _tmp17_) {
					YatlaTask* _tmp18_ = NULL;
					YatlaTask* _tmp19_ = NULL;
					const gchar* _tmp20_ = NULL;
					const gchar* _tmp21_ = NULL;
					YatlaTask* _tmp22_ = NULL;
					YatlaTask* _tmp23_ = NULL;
					const gchar* _tmp24_ = NULL;
					const gchar* _tmp25_ = NULL;
					YatlaTask* _tmp26_ = NULL;
					YatlaTask* _tmp27_ = NULL;
					GDateTime* _tmp28_ = NULL;
					GDateTime* _tmp29_ = NULL;
					YatlaTask* _tmp30_ = NULL;
					YatlaTask* _tmp31_ = NULL;
					gboolean _tmp32_ = FALSE;
					gboolean _tmp33_ = FALSE;
					_tmp18_ = task;
					_tmp19_ = task_to_update;
					_tmp20_ = yatla_task_get_name (_tmp19_);
					_tmp21_ = _tmp20_;
					yatla_task_set_name (_tmp18_, _tmp21_);
					_tmp22_ = task;
					_tmp23_ = task_to_update;
					_tmp24_ = yatla_task_get_note (_tmp23_);
					_tmp25_ = _tmp24_;
					yatla_task_set_note (_tmp22_, _tmp25_);
					_tmp26_ = task;
					_tmp27_ = task_to_update;
					_tmp28_ = yatla_task_get_date (_tmp27_);
					_tmp29_ = _tmp28_;
					yatla_task_set_date (_tmp26_, _tmp29_);
					_tmp30_ = task;
					_tmp31_ = task_to_update;
					_tmp32_ = yatla_task_get_is_done (_tmp31_);
					_tmp33_ = _tmp32_;
					yatla_task_set_is_done (_tmp30_, _tmp33_);
				}
				_g_object_unref0 (task);
			}
		}
	}
}


void yatla_sidebar_remove_task (YatlaSidebar* self, const gchar* list_name, YatlaTask* task_to_remove) {
	gint list_index = 0;
	GList* _tmp0_ = NULL;
	GList* _tmp7_ = NULL;
	gint _tmp8_ = 0;
	gconstpointer _tmp9_ = NULL;
	GList* _tmp10_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (list_name != NULL);
	g_return_if_fail (task_to_remove != NULL);
	list_index = 0;
	_tmp0_ = self->sidebar_list;
	{
		GList* list_collection = NULL;
		GList* list_it = NULL;
		list_collection = _tmp0_;
		for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
			YatlaList* _tmp1_ = NULL;
			YatlaList* list = NULL;
			_tmp1_ = _g_object_ref0 ((YatlaList*) list_it->data);
			list = _tmp1_;
			{
				YatlaList* _tmp2_ = NULL;
				const gchar* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				const gchar* _tmp5_ = NULL;
				gint _tmp6_ = 0;
				_tmp2_ = list;
				_tmp3_ = yatla_list_get_name (_tmp2_);
				_tmp4_ = _tmp3_;
				_tmp5_ = list_name;
				if (g_strcmp0 (_tmp4_, _tmp5_) == 0) {
					_g_object_unref0 (list);
					break;
				}
				_tmp6_ = list_index;
				list_index = _tmp6_ + 1;
				_g_object_unref0 (list);
			}
		}
	}
	_tmp7_ = self->sidebar_list;
	_tmp8_ = list_index;
	_tmp9_ = g_list_nth_data (_tmp7_, (guint) _tmp8_);
	_tmp10_ = ((YatlaList*) _tmp9_)->tasks;
	{
		GList* task_collection = NULL;
		GList* task_it = NULL;
		task_collection = _tmp10_;
		for (task_it = task_collection; task_it != NULL; task_it = task_it->next) {
			YatlaTask* _tmp11_ = NULL;
			YatlaTask* task = NULL;
			_tmp11_ = _g_object_ref0 ((YatlaTask*) task_it->data);
			task = _tmp11_;
			{
				YatlaTask* _tmp12_ = NULL;
				gint _tmp13_ = 0;
				gint _tmp14_ = 0;
				YatlaTask* _tmp15_ = NULL;
				gint _tmp16_ = 0;
				gint _tmp17_ = 0;
				_tmp12_ = task;
				_tmp13_ = yatla_task_get_id (_tmp12_);
				_tmp14_ = _tmp13_;
				_tmp15_ = task_to_remove;
				_tmp16_ = yatla_task_get_id (_tmp15_);
				_tmp17_ = _tmp16_;
				if (_tmp14_ == _tmp17_) {
					GList* _tmp18_ = NULL;
					gint _tmp19_ = 0;
					gconstpointer _tmp20_ = NULL;
					YatlaTask* _tmp21_ = NULL;
					_tmp18_ = self->sidebar_list;
					_tmp19_ = list_index;
					_tmp20_ = g_list_nth_data (_tmp18_, (guint) _tmp19_);
					_tmp21_ = task_to_remove;
					((YatlaList*) _tmp20_)->tasks = g_list_remove (((YatlaList*) _tmp20_)->tasks, _tmp21_);
					_g_object_unref0 (task);
					break;
				}
				_g_object_unref0 (task);
			}
		}
	}
	{
		GeeIterator* _item_it = NULL;
		GraniteWidgetsSourceListExpandableItem* _tmp22_ = NULL;
		GraniteWidgetsSourceListExpandableItem* _tmp23_ = NULL;
		GeeCollection* _tmp24_ = NULL;
		GeeCollection* _tmp25_ = NULL;
		GeeCollection* _tmp26_ = NULL;
		GeeIterator* _tmp27_ = NULL;
		GeeIterator* _tmp28_ = NULL;
		_tmp22_ = granite_widgets_source_list_get_root ((GraniteWidgetsSourceList*) self);
		_tmp23_ = _tmp22_;
		_tmp24_ = granite_widgets_source_list_expandable_item_get_children (_tmp23_);
		_tmp25_ = _tmp24_;
		_tmp26_ = _tmp25_;
		_tmp27_ = gee_iterable_iterator ((GeeIterable*) _tmp26_);
		_tmp28_ = _tmp27_;
		_g_object_unref0 (_tmp26_);
		_item_it = _tmp28_;
		while (TRUE) {
			GeeIterator* _tmp29_ = NULL;
			gboolean _tmp30_ = FALSE;
			GraniteWidgetsSourceListItem* item = NULL;
			GeeIterator* _tmp31_ = NULL;
			gpointer _tmp32_ = NULL;
			GraniteWidgetsSourceListItem* _tmp33_ = NULL;
			const gchar* _tmp34_ = NULL;
			const gchar* _tmp35_ = NULL;
			const gchar* _tmp36_ = NULL;
			_tmp29_ = _item_it;
			_tmp30_ = gee_iterator_next (_tmp29_);
			if (!_tmp30_) {
				break;
			}
			_tmp31_ = _item_it;
			_tmp32_ = gee_iterator_get (_tmp31_);
			item = (GraniteWidgetsSourceListItem*) _tmp32_;
			_tmp33_ = item;
			_tmp34_ = granite_widgets_source_list_item_get_name (_tmp33_);
			_tmp35_ = _tmp34_;
			_tmp36_ = list_name;
			if (g_strcmp0 (_tmp35_, _tmp36_) == 0) {
				GraniteWidgetsSourceListItem* _tmp37_ = NULL;
				const gchar* _tmp38_ = NULL;
				const gchar* _tmp39_ = NULL;
				_tmp37_ = item;
				_tmp38_ = granite_widgets_source_list_item_get_badge (_tmp37_);
				_tmp39_ = _tmp38_;
				if (g_strcmp0 (_tmp39_, "1") == 0) {
					GraniteWidgetsSourceListItem* _tmp40_ = NULL;
					_tmp40_ = item;
					granite_widgets_source_list_item_set_badge (_tmp40_, NULL);
				} else {
					GraniteWidgetsSourceListItem* _tmp41_ = NULL;
					GraniteWidgetsSourceListItem* _tmp42_ = NULL;
					const gchar* _tmp43_ = NULL;
					const gchar* _tmp44_ = NULL;
					gint _tmp45_ = 0;
					gchar* _tmp46_ = NULL;
					gchar* _tmp47_ = NULL;
					_tmp41_ = item;
					_tmp42_ = item;
					_tmp43_ = granite_widgets_source_list_item_get_badge (_tmp42_);
					_tmp44_ = _tmp43_;
					_tmp45_ = atoi (_tmp44_);
					_tmp46_ = g_strdup_printf ("%i", _tmp45_ - 1);
					_tmp47_ = _tmp46_;
					granite_widgets_source_list_item_set_badge (_tmp41_, _tmp47_);
					_g_free0 (_tmp47_);
				}
			}
			_g_object_unref0 (item);
		}
		_g_object_unref0 (_item_it);
	}
}


void yatla_sidebar_update_list (YatlaSidebar* self, YatlaTask** tasks, int tasks_length1, const gchar* list_name) {
	gint list_index = 0;
	GList* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (list_name != NULL);
	list_index = 0;
	_tmp0_ = self->sidebar_list;
	{
		GList* list_collection = NULL;
		GList* list_it = NULL;
		list_collection = _tmp0_;
		for (list_it = list_collection; list_it != NULL; list_it = list_it->next) {
			YatlaList* _tmp1_ = NULL;
			YatlaList* list = NULL;
			_tmp1_ = _g_object_ref0 ((YatlaList*) list_it->data);
			list = _tmp1_;
			{
				YatlaList* _tmp2_ = NULL;
				const gchar* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				const gchar* _tmp5_ = NULL;
				gint _tmp6_ = 0;
				_tmp2_ = list;
				_tmp3_ = yatla_list_get_name (_tmp2_);
				_tmp4_ = _tmp3_;
				_tmp5_ = list_name;
				if (g_strcmp0 (_tmp4_, _tmp5_) == 0) {
					_g_object_unref0 (list);
					break;
				}
				_tmp6_ = list_index;
				list_index = _tmp6_ + 1;
				_g_object_unref0 (list);
			}
		}
	}
	{
		guint task_index = 0U;
		task_index = (guint) 0;
		{
			gboolean _tmp7_ = FALSE;
			_tmp7_ = TRUE;
			while (TRUE) {
				guint _tmp9_ = 0U;
				YatlaTask** _tmp10_ = NULL;
				gint _tmp10__length1 = 0;
				GList* _tmp11_ = NULL;
				gint _tmp12_ = 0;
				gconstpointer _tmp13_ = NULL;
				GList* _tmp14_ = NULL;
				guint _tmp15_ = 0U;
				gconstpointer _tmp16_ = NULL;
				YatlaTask** _tmp17_ = NULL;
				gint _tmp17__length1 = 0;
				guint _tmp18_ = 0U;
				YatlaTask* _tmp19_ = NULL;
				const gchar* _tmp20_ = NULL;
				const gchar* _tmp21_ = NULL;
				GList* _tmp22_ = NULL;
				gint _tmp23_ = 0;
				gconstpointer _tmp24_ = NULL;
				GList* _tmp25_ = NULL;
				guint _tmp26_ = 0U;
				gconstpointer _tmp27_ = NULL;
				YatlaTask** _tmp28_ = NULL;
				gint _tmp28__length1 = 0;
				guint _tmp29_ = 0U;
				YatlaTask* _tmp30_ = NULL;
				const gchar* _tmp31_ = NULL;
				const gchar* _tmp32_ = NULL;
				GList* _tmp33_ = NULL;
				gint _tmp34_ = 0;
				gconstpointer _tmp35_ = NULL;
				GList* _tmp36_ = NULL;
				guint _tmp37_ = 0U;
				gconstpointer _tmp38_ = NULL;
				YatlaTask** _tmp39_ = NULL;
				gint _tmp39__length1 = 0;
				guint _tmp40_ = 0U;
				YatlaTask* _tmp41_ = NULL;
				GDateTime* _tmp42_ = NULL;
				GDateTime* _tmp43_ = NULL;
				GList* _tmp44_ = NULL;
				gint _tmp45_ = 0;
				gconstpointer _tmp46_ = NULL;
				GList* _tmp47_ = NULL;
				guint _tmp48_ = 0U;
				gconstpointer _tmp49_ = NULL;
				YatlaTask** _tmp50_ = NULL;
				gint _tmp50__length1 = 0;
				guint _tmp51_ = 0U;
				YatlaTask* _tmp52_ = NULL;
				gboolean _tmp53_ = FALSE;
				gboolean _tmp54_ = FALSE;
				if (!_tmp7_) {
					guint _tmp8_ = 0U;
					_tmp8_ = task_index;
					task_index = _tmp8_ + 1;
				}
				_tmp7_ = FALSE;
				_tmp9_ = task_index;
				_tmp10_ = tasks;
				_tmp10__length1 = tasks_length1;
				if (!(_tmp9_ < ((guint) _tmp10__length1))) {
					break;
				}
				_tmp11_ = self->sidebar_list;
				_tmp12_ = list_index;
				_tmp13_ = g_list_nth_data (_tmp11_, (guint) _tmp12_);
				_tmp14_ = ((YatlaList*) _tmp13_)->tasks;
				_tmp15_ = task_index;
				_tmp16_ = g_list_nth_data (_tmp14_, _tmp15_);
				_tmp17_ = tasks;
				_tmp17__length1 = tasks_length1;
				_tmp18_ = task_index;
				_tmp19_ = _tmp17_[_tmp18_];
				_tmp20_ = yatla_task_get_name (_tmp19_);
				_tmp21_ = _tmp20_;
				yatla_task_set_name ((YatlaTask*) _tmp16_, _tmp21_);
				_tmp22_ = self->sidebar_list;
				_tmp23_ = list_index;
				_tmp24_ = g_list_nth_data (_tmp22_, (guint) _tmp23_);
				_tmp25_ = ((YatlaList*) _tmp24_)->tasks;
				_tmp26_ = task_index;
				_tmp27_ = g_list_nth_data (_tmp25_, _tmp26_);
				_tmp28_ = tasks;
				_tmp28__length1 = tasks_length1;
				_tmp29_ = task_index;
				_tmp30_ = _tmp28_[_tmp29_];
				_tmp31_ = yatla_task_get_note (_tmp30_);
				_tmp32_ = _tmp31_;
				yatla_task_set_note ((YatlaTask*) _tmp27_, _tmp32_);
				_tmp33_ = self->sidebar_list;
				_tmp34_ = list_index;
				_tmp35_ = g_list_nth_data (_tmp33_, (guint) _tmp34_);
				_tmp36_ = ((YatlaList*) _tmp35_)->tasks;
				_tmp37_ = task_index;
				_tmp38_ = g_list_nth_data (_tmp36_, _tmp37_);
				_tmp39_ = tasks;
				_tmp39__length1 = tasks_length1;
				_tmp40_ = task_index;
				_tmp41_ = _tmp39_[_tmp40_];
				_tmp42_ = yatla_task_get_date (_tmp41_);
				_tmp43_ = _tmp42_;
				yatla_task_set_date ((YatlaTask*) _tmp38_, _tmp43_);
				_tmp44_ = self->sidebar_list;
				_tmp45_ = list_index;
				_tmp46_ = g_list_nth_data (_tmp44_, (guint) _tmp45_);
				_tmp47_ = ((YatlaList*) _tmp46_)->tasks;
				_tmp48_ = task_index;
				_tmp49_ = g_list_nth_data (_tmp47_, _tmp48_);
				_tmp50_ = tasks;
				_tmp50__length1 = tasks_length1;
				_tmp51_ = task_index;
				_tmp52_ = _tmp50_[_tmp51_];
				_tmp53_ = yatla_task_get_is_done (_tmp52_);
				_tmp54_ = _tmp53_;
				yatla_task_set_is_done ((YatlaTask*) _tmp49_, _tmp54_);
			}
		}
	}
}


static void yatla_sidebar_class_init (YatlaSidebarClass * klass) {
	yatla_sidebar_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = yatla_sidebar_finalize;
}


static void yatla_sidebar_instance_init (YatlaSidebar * self) {
}


static void yatla_sidebar_finalize (GObject* obj) {
	YatlaSidebar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, YATLA_TYPE_SIDEBAR, YatlaSidebar);
	__g_list_free__g_object_unref0_0 (self->sidebar_list);
	G_OBJECT_CLASS (yatla_sidebar_parent_class)->finalize (obj);
}


GType yatla_sidebar_get_type (void) {
	static volatile gsize yatla_sidebar_type_id__volatile = 0;
	if (g_once_init_enter (&yatla_sidebar_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (YatlaSidebarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) yatla_sidebar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (YatlaSidebar), 0, (GInstanceInitFunc) yatla_sidebar_instance_init, NULL };
		GType yatla_sidebar_type_id;
		yatla_sidebar_type_id = g_type_register_static (GRANITE_WIDGETS_TYPE_SOURCE_LIST, "YatlaSidebar", &g_define_type_info, 0);
		g_once_init_leave (&yatla_sidebar_type_id__volatile, yatla_sidebar_type_id);
	}
	return yatla_sidebar_type_id__volatile;
}


YatlaSidebarItem* yatla_sidebar_item_construct (GType object_type, const gchar* name, guint badge) {
	YatlaSidebarItem * self = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	g_return_val_if_fail (name != NULL, NULL);
	_tmp0_ = name;
	self = (YatlaSidebarItem*) granite_widgets_source_list_item_construct (object_type, _tmp0_);
	granite_widgets_source_list_item_set_editable ((GraniteWidgetsSourceListItem*) self, TRUE);
	_tmp2_ = badge;
	if (_tmp2_ > ((guint) 0)) {
		guint _tmp3_ = 0U;
		gchar* _tmp4_ = NULL;
		_tmp3_ = badge;
		_tmp4_ = g_strdup_printf ("%u", _tmp3_);
		_g_free0 (_tmp1_);
		_tmp1_ = _tmp4_;
	} else {
		_g_free0 (_tmp1_);
		_tmp1_ = NULL;
	}
	granite_widgets_source_list_item_set_badge ((GraniteWidgetsSourceListItem*) self, _tmp1_);
	_g_free0 (_tmp1_);
	return self;
}


YatlaSidebarItem* yatla_sidebar_item_new (const gchar* name, guint badge) {
	return yatla_sidebar_item_construct (YATLA_TYPE_SIDEBAR_ITEM, name, badge);
}


static void yatla_sidebar_item_class_init (YatlaSidebarItemClass * klass) {
	yatla_sidebar_item_parent_class = g_type_class_peek_parent (klass);
}


static void yatla_sidebar_item_instance_init (YatlaSidebarItem * self) {
}


GType yatla_sidebar_item_get_type (void) {
	static volatile gsize yatla_sidebar_item_type_id__volatile = 0;
	if (g_once_init_enter (&yatla_sidebar_item_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (YatlaSidebarItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) yatla_sidebar_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (YatlaSidebarItem), 0, (GInstanceInitFunc) yatla_sidebar_item_instance_init, NULL };
		GType yatla_sidebar_item_type_id;
		yatla_sidebar_item_type_id = g_type_register_static (GRANITE_WIDGETS_SOURCE_LIST_TYPE_ITEM, "YatlaSidebarItem", &g_define_type_info, 0);
		g_once_init_leave (&yatla_sidebar_item_type_id__volatile, yatla_sidebar_item_type_id);
	}
	return yatla_sidebar_item_type_id__volatile;
}



